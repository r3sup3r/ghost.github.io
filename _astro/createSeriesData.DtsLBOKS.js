import{c as T,e as y,m as tt,a as C,i as ot,b as _t,d as Y,f as q,g as $,k as Dt,h as b,s as gt,j as yt,l as W,n as at,o as St}from"./dashStyle.D9M2nO6r.js";import{V as mt,i as ct,D as xt,a as st,S as It,b as Mt,c as Z,M as Ot,s as Ct,d as At,e as et,f as Et,g as wt,h as Nt,j as Rt,C as Tt,n as ut,k as Ft,B as Lt,l as Gt,m as G,o as Pt,p as Ut,q as Bt,r as zt}from"./Axis.DTz73mgW.js";function P(r){return r==null?0:r.length||1}function lt(r){return r}var Ht=(function(){function r(t,e,i,n,o,a){this._old=t,this._new=e,this._oldKeyGetter=i||lt,this._newKeyGetter=n||lt,this.context=o,this._diffModeMultiple=a==="multiple"}return r.prototype.add=function(t){return this._add=t,this},r.prototype.update=function(t){return this._update=t,this},r.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},r.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},r.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},r.prototype.remove=function(t){return this._remove=t,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var t=this._old,e=this._new,i={},n=new Array(t.length),o=new Array(e.length);this._initIndexMap(t,null,n,"_oldKeyGetter"),this._initIndexMap(e,i,o,"_newKeyGetter");for(var a=0;a<t.length;a++){var u=n[a],s=i[u],h=P(s);if(h>1){var l=s.shift();s.length===1&&(i[u]=s[0]),this._update&&this._update(l,a)}else h===1?(i[u]=null,this._update&&this._update(s,a)):this._remove&&this._remove(a)}this._performRestAdd(o,i)},r.prototype._executeMultiple=function(){var t=this._old,e=this._new,i={},n={},o=[],a=[];this._initIndexMap(t,i,o,"_oldKeyGetter"),this._initIndexMap(e,n,a,"_newKeyGetter");for(var u=0;u<o.length;u++){var s=o[u],h=i[s],l=n[s],c=P(h),f=P(l);if(c>1&&f===1)this._updateManyToOne&&this._updateManyToOne(l,h),n[s]=null;else if(c===1&&f>1)this._updateOneToMany&&this._updateOneToMany(l,h),n[s]=null;else if(c===1&&f===1)this._update&&this._update(l,h),n[s]=null;else if(c>1&&f>1)this._updateManyToMany&&this._updateManyToMany(l,h),n[s]=null;else if(c>1)for(var m=0;m<c;m++)this._remove&&this._remove(h[m]);else this._remove&&this._remove(h)}this._performRestAdd(a,n)},r.prototype._performRestAdd=function(t,e){for(var i=0;i<t.length;i++){var n=t[i],o=e[n],a=P(o);if(a>1)for(var u=0;u<a;u++)this._add&&this._add(o[u]);else a===1&&this._add&&this._add(o);e[n]=null}},r.prototype._initIndexMap=function(t,e,i,n){for(var o=this._diffModeMultiple,a=0;a<t.length;a++){var u="_ec_"+this[n](t[a],a);if(o||(i[a]=u),!!e){var s=e[u],h=P(s);h===0?(e[u]=a,o&&i.push(u)):h===1?e[u]=[s,a]:s.push(a)}}},r})(),bt=(function(){function r(t,e){this._encode=t,this._schema=e}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r})();function Kt(r,t){var e={},i=e.encode={},n=T(),o=[],a=[],u={};y(r.dimensions,function(f){var m=r.getDimensionInfo(f),v=m.coordDim;if(v){var D=m.coordDimIndex;J(i,v)[D]=f,m.isExtraCoord||(n.set(v,1),$t(m.type)&&(o[0]=f),J(u,v)[D]=r.getDimensionIndex(m.name)),m.defaultTooltip&&a.push(f)}mt.each(function(N,x){var O=J(i,x),A=m.otherDims[x];A!=null&&A!==!1&&(O[A]=m.name)})});var s=[],h={};n.each(function(f,m){var v=i[m];h[m]=v[0],s=s.concat(v)}),e.dataDimsOnCoord=s,e.dataDimIndicesOnCoord=tt(s,function(f){return r.getDimensionInfo(f).storeDimIndex}),e.encodeFirstDimNotExtra=h;var l=i.label;l&&l.length&&(o=l.slice());var c=i.tooltip;return c&&c.length?a=c.slice():a.length||(a=o.slice()),i.defaultedLabel=o,i.defaultedTooltip=a,e.userOutput=new bt(u,t),e}function J(r,t){return r.hasOwnProperty(t)||(r[t]=[]),r[t]}function Vt(r){return r==="category"?"ordinal":r==="time"?"time":"float"}function $t(r){return!(r==="ordinal"||r==="time")}var X=(function(){function r(t){this.otherDims={},t!=null&&C(this,t)}return r})(),U=Y,w=tt,jt=typeof Int32Array>"u"?Array:Int32Array,qt="e\0\0",ft=-1,Wt=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Xt=["_approximateExtent"],ht,j,B,z,Q,H,k,Yt=(function(){function r(t,e){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var i,n=!1;At(t)?(i=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(n=!0,i=t),i=i||["x","y"];for(var o={},a=[],u={},s=!1,h={},l=0;l<i.length;l++){var c=i[l],f=W(c)?new X({name:c}):c instanceof X?c:new X(c),m=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=m,f.coordDimIndex=0);var v=f.otherDims=f.otherDims||{};a.push(m),o[m]=f,h[m]!=null&&(s=!0),f.createInvertedIndices&&(u[m]=[]);var D=l;ot(f.storeDimIndex)&&(D=f.storeDimIndex),v.itemName===0&&(this._nameDimIdx=D),v.itemId===0&&(this._idDimIdx=D),n&&(f.storeDimIndex=l)}if(this.dimensions=a,this._dimInfos=o,this._initGetDimensionInfo(s),this.hostModel=e,this._invertedIndicesMap=u,this._dimOmitted){var N=this._dimIdxToName=T();y(a,function(x){N.set(o[x].storeDimIndex,x)})}}return r.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(e==null)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var i=this._dimIdxToName.get(e);if(i!=null)return i;var n=this._schema.getSourceDimension(e);if(n)return n.name},r.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(e!=null)return e;if(t==null)return-1;var i=this._getDimInfo(t);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},r.prototype._recognizeDimIndex=function(t){if(ot(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},r.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},r.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},r.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(i){return e.hasOwnProperty(i)?e[i]:void 0}:function(i){return e[i]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(t,e){var i=this._dimSummary;if(e==null)return i.encodeFirstDimNotExtra[t];var n=i.encode[t];return n?n[e]:null},r.prototype.mapDimensionsAll=function(t){var e=this._dimSummary,i=e.encode[t];return(i||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(t,e,i){var n=this,o;if(t instanceof st&&(o=t),!o){var a=this.dimensions,u=ct(t)||_t(t)?new xt(t,a.length):t;o=new st;var s=w(a,function(h){return{type:n._dimInfos[h].type,property:h}});o.initData(u,s,i)}this._store=o,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=Kt(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},r.prototype.appendValues=function(t,e){var i=this._store.appendValues(t,e&&e.length),n=i.start,o=i.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var u=n;u<o;u++){var s=u-n;this._nameList[u]=e[s],a&&k(this,u)}},r.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,i=0;i<e.length;i++){var n=this._dimInfos[e[i]];n.ordinalMeta&&t.collectOrdinalMeta(n.storeDimIndex,n.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==It&&!t.fillStorage},r.prototype._doInit=function(t,e){if(!(t>=e)){var i=this._store,n=i.getProvider();this._updateOrdinalMeta();var o=this._nameList,a=this._idList,u=n.getSource().sourceFormat,s=u===et;if(s&&!n.pure)for(var h=[],l=t;l<e;l++){var c=n.getItem(l,h);if(!this.hasItemOption&&Mt(c)&&(this.hasItemOption=!0),c){var f=c.name;o[l]==null&&f!=null&&(o[l]=Z(f,null));var m=c.id;a[l]==null&&m!=null&&(a[l]=Z(m,null))}}if(this._shouldMakeIdFromName())for(var l=t;l<e;l++)k(this,l);ht(this)}},r.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},r.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},r.prototype.setCalculationInfo=function(t,e){U(t)?C(this._calculationInfo,t):this._calculationInfo[t]=e},r.prototype.getName=function(t){var e=this.getRawIndex(t),i=this._nameList[e];return i==null&&this._nameDimIdx!=null&&(i=B(this,this._nameDimIdx,e)),i==null&&(i=""),i},r.prototype._getCategory=function(t,e){var i=this._store.get(t,e),n=this._store.getOrdinalMeta(t);return n?n.categories[i]:i},r.prototype.getId=function(t){return j(this,this.getRawIndex(t))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(t,e){var i=this._store,n=this._dimInfos[t];if(n)return i.get(n.storeDimIndex,e)},r.prototype.getByRawIndex=function(t,e){var i=this._store,n=this._dimInfos[t];if(n)return i.getByRawIndex(n.storeDimIndex,e)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},r.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},r.prototype.getValues=function(t,e){var i=this,n=this._store;return q(t)?n.getValues(w(t,function(o){return i._getStoreDimIndex(o)}),e):n.getValues(t)},r.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,i=0,n=e.length;i<n;i++)if(isNaN(this._store.get(e[i],t)))return!1;return!0},r.prototype.indexOfName=function(t){for(var e=0,i=this._store.count();e<i;e++)if(this.getName(e)===t)return e;return-1},r.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},r.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},r.prototype.rawIndexOf=function(t,e){var i=t&&this._invertedIndicesMap[t],n=i&&i[e];return n==null||isNaN(n)?ft:n},r.prototype.each=function(t,e,i){b(t)&&(i=e,e=t,t=[]);var n=i||this,o=w(z(t),this._getStoreDimIndex,this);this._store.each(o,n?$(e,n):e)},r.prototype.filterSelf=function(t,e,i){b(t)&&(i=e,e=t,t=[]);var n=i||this,o=w(z(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,n?$(e,n):e),this},r.prototype.selectRange=function(t){var e=this,i={},n=Dt(t);return y(n,function(o){var a=e._getStoreDimIndex(o);i[a]=t[o]}),this._store=this._store.selectRange(i),this},r.prototype.mapArray=function(t,e,i){b(t)&&(i=e,e=t,t=[]),i=i||this;var n=[];return this.each(t,function(){n.push(e&&e.apply(this,arguments))},i),n},r.prototype.map=function(t,e,i,n){var o=i||n||this,a=w(z(t),this._getStoreDimIndex,this),u=H(this);return u._store=this._store.map(a,o?$(e,o):e),u},r.prototype.modify=function(t,e,i,n){var o=i||n||this,a=w(z(t),this._getStoreDimIndex,this);this._store.modify(a,o?$(e,o):e)},r.prototype.downSample=function(t,e,i,n){var o=H(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),e,i,n),o},r.prototype.minmaxDownSample=function(t,e){var i=H(this);return i._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),e),i},r.prototype.lttbDownSample=function(t,e){var i=H(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),i},r.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},r.prototype.getItemModel=function(t){var e=this.hostModel,i=this.getRawDataItem(t);return new Ot(i,e,e&&e.ecModel)},r.prototype.diff=function(t){var e=this;return new Ht(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(i){return j(t,i)},function(i){return j(e,i)})},r.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},r.prototype.setVisual=function(t,e){this._visual=this._visual||{},U(t)?C(this._visual,t):this._visual[t]=e},r.prototype.getItemVisual=function(t,e){var i=this._itemVisuals[t],n=i&&i[e];return n??this.getVisual(e)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(t,e){var i=this._itemVisuals,n=i[t];n||(n=i[t]={});var o=n[e];return o==null&&(o=this.getVisual(e),q(o)?o=o.slice():U(o)&&(o=C({},o)),n[e]=o),o},r.prototype.setItemVisual=function(t,e,i){var n=this._itemVisuals[t]||{};this._itemVisuals[t]=n,U(e)?C(n,e):n[e]=i},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(t,e){U(t)?C(this._layout,t):this._layout[t]=e},r.prototype.getLayout=function(t){return this._layout[t]},r.prototype.getItemLayout=function(t){return this._itemLayouts[t]},r.prototype.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?C(this._itemLayouts[t]||{},e):e},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(t,e){var i=this.hostModel&&this.hostModel.seriesIndex;Ct(i,this.dataType,t,e),this._graphicEls[t]=e},r.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},r.prototype.eachItemGraphicEl=function(t,e){y(this._graphicEls,function(i,n){i&&t&&t.call(e,i,n)})},r.prototype.cloneShallow=function(t){return t||(t=new r(this._schema?this._schema:w(this.dimensions,this._getDimInfo,this),this.hostModel)),Q(t,this),t._store=this._store,t},r.prototype.wrapMethod=function(t,e){var i=this[t];b(i)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var n=i.apply(this,arguments);return e.apply(this,[n].concat(gt(arguments)))})},r.internalField=(function(){ht=function(t){var e=t._invertedIndicesMap;y(e,function(i,n){var o=t._dimInfos[n],a=o.ordinalMeta,u=t._store;if(a){i=e[n]=new jt(a.categories.length);for(var s=0;s<i.length;s++)i[s]=ft;for(var s=0;s<u.count();s++)i[u.get(o.storeDimIndex,s)]=s}})},B=function(t,e,i){return Z(t._getCategory(e,i),null)},j=function(t,e){var i=t._idList[e];return i==null&&t._idDimIdx!=null&&(i=B(t,t._idDimIdx,e)),i==null&&(i=qt+e),i},z=function(t){return q(t)||(t=t!=null?[t]:[]),t},H=function(t){var e=new r(t._schema?t._schema:w(t.dimensions,t._getDimInfo,t),t.hostModel);return Q(e,t),e},Q=function(t,e){y(Wt.concat(e.__wrappedMethods||[]),function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t.__wrappedMethods=e.__wrappedMethods,y(Xt,function(i){t[i]=yt(e[i])}),t._calculationInfo=C({},e._calculationInfo)},k=function(t,e){var i=t._nameList,n=t._idList,o=t._nameDimIdx,a=t._idDimIdx,u=i[e],s=n[e];if(u==null&&o!=null&&(i[e]=u=B(t,o,e)),s==null&&a!=null&&(n[e]=s=B(t,a,e)),s==null&&u!=null){var h=t._nameRepeatCount,l=h[u]=(h[u]||0)+1;s=u,l>1&&(s+="__ec__"+l),n[e]=s}}})(),r})();function ue(r,t){return dt(r,t).dimensions}function dt(r,t){ct(r)||(r=Et(r)),t=t||{};var e=t.coordDimensions||[],i=t.dimensionsDefine||r.dimensionsDefine||[],n=T(),o=[],a=Jt(r,e,i,t.dimensionsCount),u=t.canOmitUnusedDimensions&&wt(a),s=i===r.dimensionsDefine,h=s?Nt(r):Rt(i),l=t.encodeDefine;!l&&t.encodeDefaulter&&(l=t.encodeDefaulter(r,a));for(var c=T(l),f=new Tt(a),m=0;m<f.length;m++)f[m]=-1;function v(p){var _=f[p];if(_<0){var g=i[p],I=Y(g)?g:{name:g},d=new X,E=I.name;E!=null&&h.get(E)!=null&&(d.name=d.displayName=E),I.type!=null&&(d.type=I.type),I.displayName!=null&&(d.displayName=I.displayName);var S=o.length;return f[p]=S,d.storeDimIndex=p,o.push(d),d}return o[_]}if(!u)for(var m=0;m<a;m++)v(m);c.each(function(p,_){var g=ut(p).slice();if(g.length===1&&!W(g[0])&&g[0]<0){c.set(_,!1);return}var I=c.set(_,[]);y(g,function(d,E){var S=W(d)?h.get(d):d;S!=null&&S<a&&(I[E]=S,N(v(S),_,E))})});var D=0;y(e,function(p){var _,g,I,d;if(W(p))_=p,d={};else{d=p,_=d.name;var E=d.ordinalMeta;d.ordinalMeta=null,d=C({},d),d.ordinalMeta=E,g=d.dimsDef,I=d.otherDims,d.name=d.coordDim=d.coordDimIndex=d.dimsDef=d.otherDims=null}var S=c.get(_);if(S!==!1){if(S=ut(S),!S.length)for(var rt=0;rt<(g&&g.length||1);rt++){for(;D<a&&v(D).coordDim!=null;)D++;D<a&&S.push(D++)}y(S,function(vt,nt){var R=v(vt);if(s&&d.type!=null&&(R.type=d.type),N(at(R,d),_,nt),R.name==null&&g){var L=g[nt];!Y(L)&&(L={name:L}),R.name=R.displayName=L.name,R.defaultTooltip=L.defaultTooltip}I&&at(R.otherDims,I)})}});function N(p,_,g){mt.get(_)!=null?p.otherDims[_]=g:(p.coordDim=_,p.coordDimIndex=g,n.set(_,!0))}var x=t.generateCoord,O=t.generateCoordCount,A=O!=null;O=x?O||1:0;var K=x||"value";function it(p){p.name==null&&(p.name=p.coordDim)}if(u)y(o,function(p){it(p)}),o.sort(function(p,_){return p.storeDimIndex-_.storeDimIndex});else for(var V=0;V<a;V++){var M=v(V),pt=M.coordDim;pt==null&&(M.coordDim=Qt(K,n,A),M.coordDimIndex=0,(!x||O<=0)&&(M.isExtraCoord=!0),O--),it(M),M.type==null&&(Ft(r,V)===Lt.Must||M.isExtraCoord&&(M.otherDims.itemName!=null||M.otherDims.seriesName!=null))&&(M.type="ordinal")}return Zt(o),new Gt({source:r,dimensions:o,fullDimensionCount:a,dimensionOmitted:u})}function Zt(r){for(var t=T(),e=0;e<r.length;e++){var i=r[e],n=i.name,o=t.get(n)||0;o>0&&(i.name=n+(o-1)),o++,t.set(n,o)}}function Jt(r,t,e,i){var n=Math.max(r.dimensionsDetectedCount||1,t.length,e.length,i||0);return y(t,function(o){var a;Y(o)&&(a=o.dimsDef)&&(n=Math.max(n,a.length))}),n}function Qt(r,t,e){if(e||t.hasKey(r)){for(var i=0;t.hasKey(r+i);)i++;r+=i}return t.set(r,!0),r}var kt=(function(){function r(t){this.coordSysDims=[],this.axisMap=T(),this.categoryAxisMap=T(),this.coordSysName=t}return r})();function te(r){var t=r.get("coordinateSystem"),e=new kt(t),i=ee[t];if(i)return i(r,e,e.axisMap,e.categoryAxisMap),e}var ee={cartesian2d:function(r,t,e,i){var n=r.getReferringComponents("xAxis",G).models[0],o=r.getReferringComponents("yAxis",G).models[0];t.coordSysDims=["x","y"],e.set("x",n),e.set("y",o),F(n)&&(i.set("x",n),t.firstCategoryDimIndex=0),F(o)&&(i.set("y",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(r,t,e,i){var n=r.getReferringComponents("singleAxis",G).models[0];t.coordSysDims=["single"],e.set("single",n),F(n)&&(i.set("single",n),t.firstCategoryDimIndex=0)},polar:function(r,t,e,i){var n=r.getReferringComponents("polar",G).models[0],o=n.findAxisModel("radiusAxis"),a=n.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",o),e.set("angle",a),F(o)&&(i.set("radius",o),t.firstCategoryDimIndex=0),F(a)&&(i.set("angle",a),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(r,t,e,i){t.coordSysDims=["lng","lat"]},parallel:function(r,t,e,i){var n=r.ecModel,o=n.getComponent("parallel",r.get("parallelIndex")),a=t.coordSysDims=o.dimensions.slice();y(o.parallelAxisIndex,function(u,s){var h=n.getComponent("parallelAxis",u),l=a[s];e.set(l,h),F(h)&&(i.set(l,h),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=s))})},matrix:function(r,t,e,i){var n=r.getReferringComponents("matrix",G).models[0];t.coordSysDims=["x","y"];var o=n.getDimensionModel("x"),a=n.getDimensionModel("y");e.set("x",o),e.set("y",a),i.set("x",o),i.set("y",a)}};function F(r){return r.get("type")==="category"}function ie(r,t){var e=r.get("coordinateSystem"),i=Bt.get(e),n;return t&&t.coordSysDims&&(n=tt(t.coordSysDims,function(o){var a={name:o},u=t.axisMap.get(o);if(u){var s=u.get("type");a.type=Vt(s)}return a})),n||(n=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]),n}function re(r,t,e){var i,n;return e&&y(r,function(o,a){var u=o.coordDim,s=e.categoryAxisMap.get(u);s&&(i==null&&(i=a),o.ordinalMeta=s.getOrdinalMeta(),t&&(o.createInvertedIndices=!0)),o.otherDims.itemName!=null&&(n=!0)}),!n&&i!=null&&(r[i].otherDims.itemName=0),i}function le(r,t,e){e=e||{};var i=t.getSourceManager(),n,o=!1;n=i.getSource(),o=n.sourceFormat===et;var a=te(t),u=ie(t,a),s=e.useEncodeDefaulter,h=b(s)?s:s?St(Pt,u,t):null,l={coordDimensions:u,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:h,canOmitUnusedDimensions:!o},c=dt(n,l),f=re(c.dimensions,e.createInvertedIndices,a),m=o?null:i.getSharedDataStore(c),v=Ut(t,{schema:c,store:m}),D=new Yt(c,t);D.setCalculationInfo(v);var N=f!=null&&ne(n)?function(x,O,A,K){return K===f?A:this.defaultDimValueGetter(x,O,A,K)}:null;return D.hasItemOption=!1,D.initData(o?n:m,null,N),D}function ne(r){if(r.sourceFormat===et){var t=oe(r.data||[]);return!q(zt(t))}}function oe(r){for(var t=0;t<r.length&&r[t]==null;)t++;return r[t]}export{Yt as S,ue as a,le as c,dt as p};
