import{n as P,H as K,Q as R,S as at,G as me,T as Q,e as S,U as rt,V as De,W as de,Z as Ie,t as ae,a as Te,l as re,y as nt,d as it,h as Oe,m as Y,X as we,R as Ve,x as ot,u as lt,v as st,B as X,i as Pe,_ as be,j as ut,p as vt,f as ke}from"./dashStyle.D9M2nO6r.js";import{b8 as ze,b9 as ne,ba as Ge,bb as $,bc as Se,bd as ct,be as B,_ as Fe,bf as We,bg as ie,x as Ue,bh as Ye,E as He,a7 as Ze,bi as je,bj as ft,y as gt,bk as ht,M as Xe,bl as mt,O as oe,bm as _e,bn as pe,bo as dt,bp as pt,bq as xt,br as fe,$ as ge,A as bt,az as yt,a4 as Lt,ac as At,aa as Tt,a9 as wt,ao as Me,aA as kt,b6 as St,bs as _t,U as J}from"./Axis.DTz73mgW.js";var Ee=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],Mt=1,le=2,qe=Mt|le;function se(e,t,r){r=r||qe,t?e.dirty|=r:e.dirty&=~r}function Ke(e,t){return t=t||qe,e.dirty==null||!!(e.dirty&t)}function z(e){if(e)return Ke(e)&&Et(e,e.label,e),e}function Et(e,t,r){var a=t.getComputedTransform();e.transform=ze(e.transform,a);var n=e.localRect=ne(e.localRect,t.getBoundingRect()),o=t.style,i=o.margin,l=r&&r.marginForce,u=r&&r.minMarginForce,s=r&&r.marginDefault,v=o.__marginType;v==null&&s&&(i=s,v=$.textMargin);for(var c=0;c<4;c++)he[c]=v===$.minMargin&&u&&u[c]!=null?u[c]:l&&l[c]!=null?l[c]:i?i[c]:0;v===$.textMargin&&Se(n,he,!1,!1);var x=e.rect=ne(e.rect,n);return a&&x.applyTransform(a),v===$.minMargin&&Se(x,he,!1,!1),e.axisAligned=Ge(a),(e.label=e.label||{}).ignore=t.ignore,se(e,!1),se(e,!0,le),e}var he=[0,0,0,0];function Rt(e,t,r){return e.transform=ze(e.transform,r),e.localRect=ne(e.localRect,t),e.rect=ne(e.rect,t),r&&e.rect.applyTransform(r),e.axisAligned=Ge(r),e.obb=void 0,(e.label=e.label||{}).ignore=!1,e}function Ct(e,t){if(e){e.label.x+=t.x,e.label.y+=t.y,e.label.markRedraw();var r=e.transform;r&&(r[4]+=t.x,r[5]+=t.y);var a=e.rect;a&&(a.x+=t.x,a.y+=t.y);var n=e.obb;n&&n.fromBoundingRect(e.localRect,r)}}function Re(e,t){for(var r=0;r<Ee.length;r++){var a=Ee[r];e[a]==null&&(e[a]=t[a])}return z(e)}function Ce(e){var t=e.obb;return(!t||Ke(e,le))&&(e.obb=t=t||new ct,t.fromBoundingRect(e.localRect,e.transform),se(e,!1,le)),t}function Nt(e){var t=[];e.sort(function(s,v){return(v.suggestIgnore?1:0)-(s.suggestIgnore?1:0)||v.priority-s.priority});function r(s){if(!s.ignore){var v=s.ensureState("emphasis");v.ignore==null&&(v.ignore=!1)}s.ignore=!0}for(var a=0;a<e.length;a++){var n=z(e[a]);if(!n.label.ignore){for(var o=n.label,i=n.labelLine,l=!1,u=0;u<t.length;u++)if(ye(n,t[u],null,{touchThreshold:.05})){l=!0;break}l?(r(o),i&&r(i)):t.push(n)}}}function ye(e,t,r,a){return!e||!t||e.label&&e.label.ignore||t.label&&t.label.ignore||!e.rect.intersect(t.rect,r,a)?!1:e.axisAligned&&t.axisAligned?!0:Ce(e).intersect(Ce(t),r,a)}var Qe={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:B.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:B.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:B.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[B.color.backgroundTint,B.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:B.color.neutral00,borderColor:B.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},Bt=K({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},Qe),Le=K({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:B.color.axisMinorSplitLine,width:1}}},Qe),Dt=K({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Le),It=P({logBase:10},Le);const Ot={category:Bt,value:Le,time:Dt,log:It};var Vt=null;function Pt(){return Vt}var zt="expandAxisBreak",V=Math.PI,Gt=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],Ft=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],ue=We(),$e=We(),Wt=(function(){function e(t){this.recordMap={},this.resolveAxisNameOverlap=t}return e.prototype.ensureRecord=function(t){var r=t.axis.dim,a=t.componentIndex,n=this.recordMap,o=n[r]||(n[r]=[]);return o[a]||(o[a]={ready:{}})},e})();function Ut(e,t,r,a){var n=r.axis,o=t.ensureRecord(r),i=[],l,u=Ae(e.axisName)&&ie(e.nameLocation);S(a,function(f){var h=z(f);if(!(!h||h.label.ignore)){i.push(h);var m=o.transGroup;u&&(m.transform?ot(Z,m.transform):lt(Z),h.transform&&st(Z,Z,h.transform),X.copy(ee,h.localRect),ee.applyTransform(Z),l?l.union(ee):X.copy(l=new X(0,0,0,0),ee))}});var s=Math.abs(o.dirVec.x)>.1?"x":"y",v=o.transGroup[s];if(i.sort(function(f,h){return Math.abs(f.label[s]-v)-Math.abs(h.label[s]-v)}),u&&l){var c=n.getExtent(),x=Math.min(c[0],c[1]),g=Math.max(c[0],c[1])-x;l.union(new X(x,0,g,1))}o.stOccupiedRect=l,o.labelInfoList=i}var Z=De(),ee=new X(0,0,0,0),Yt=function(e,t,r,a,n,o){if(ie(e.nameLocation)){var i=o.stOccupiedRect;i&&Je(Rt({},i,o.transGroup.transform),a,n)}else Ht(o.labelInfoList,o.dirVec,a,n)};function Je(e,t,r){var a=new Q;ye(e,t,a,{direction:Math.atan2(r.y,r.x),bidirectional:!1,touchThreshold:.05})&&Ct(t,a)}function Ht(e,t,r,a){for(var n=Q.dot(a,t)>=0,o=0,i=e.length;o<i;o++){var l=e[n?o:i-1-o];l.label.ignore||Je(l,r,a)}}var W=(function(){function e(t,r,a,n){this.group=new me,this._axisModel=t,this._api=r,this._local={},this._shared=n||new Wt(Yt),this._resetCfgDetermined(a)}return e.prototype.updateCfg=function(t){var r=this._cfg.raw;r.position=t.position,r.labelOffset=t.labelOffset,this._resetCfgDetermined(r)},e.prototype.__getRawCfg=function(){return this._cfg.raw},e.prototype._resetCfgDetermined=function(t){var r=this._axisModel,a=r.getDefaultOption?r.getDefaultOption():{},n=R(t.axisName,r.get("name")),o=r.get("nameMoveOverlap");(o==null||o==="auto")&&(o=R(t.defaultNameMoveOverlap,!0));var i={raw:t,position:t.position,rotation:t.rotation,nameDirection:R(t.nameDirection,1),tickDirection:R(t.tickDirection,1),labelDirection:R(t.labelDirection,1),labelOffset:R(t.labelOffset,0),silent:R(t.silent,!0),axisName:n,nameLocation:at(r.get("nameLocation"),a.nameLocation,"end"),shouldNameMoveOverlap:Ae(n)&&o,optionHideOverlap:r.get(["axisLabel","hideOverlap"]),showMinorTicks:r.get(["minorTick","show"])};this._cfg=i;var l=new me({x:i.position[0],y:i.position[1],rotation:i.rotation});l.updateTransform(),this._transformGroup=l;var u=this._shared.ensureRecord(r);u.transGroup=this._transformGroup,u.dirVec=new Q(Math.cos(-i.rotation),Math.sin(-i.rotation))},e.prototype.build=function(t,r){var a=this;return t||(t={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),S(Zt,function(n){t[n]&&jt[n](a._cfg,a._local,a._shared,a._axisModel,a.group,a._transformGroup,a._api,r||{})}),this},e.innerTextLayout=function(t,r,a){var n=Fe(r-t),o,i;return oe(n)?(i=a>0?"top":"bottom",o="center"):oe(n-V)?(i=a>0?"bottom":"top",o="center"):(i="middle",n>0&&n<V?o=a>0?"right":"left":o=a>0?"left":"right"),{rotation:n,textAlign:o,textVerticalAlign:i}},e.makeAxisEventDataBase=function(t){var r={componentType:t.mainType,componentIndex:t.componentIndex};return r[t.mainType+"Index"]=t.componentIndex,r},e.isLabelSilent=function(t){var r=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||r&&r.show)},e})(),Zt=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],jt={axisLine:function(e,t,r,a,n,o,i){var l=a.get(["axisLine","show"]);if(l==="auto"&&(l=!0,e.raw.axisLineAutoShow!=null&&(l=!!e.raw.axisLineAutoShow)),!!l){var u=a.axis.getExtent(),s=o.transform,v=[u[0],0],c=[u[1],0],x=v[0]>c[0];s&&(ae(v,v,s),ae(c,c,s));var g=Te({lineCap:"round"},a.getModel(["axisLine","lineStyle"]).getLineStyle()),f={strokeContainThreshold:e.raw.strokeContainThreshold||5,silent:!0,z2:1,style:g};if(a.get(["axisLine","breakLine"])&&a.axis.scale.hasBreaks())Pt().buildAxisBreakLine(a,n,o,f);else{var h=new Ze(Te({shape:{x1:v[0],y1:v[1],x2:c[0],y2:c[1]}},f));je(h.shape,h.style.lineWidth),h.anid="line",n.add(h)}var m=a.get(["axisLine","symbol"]);if(m!=null){var d=a.get(["axisLine","symbolSize"]);re(m)&&(m=[m,m]),(re(d)||Pe(d))&&(d=[d,d]);var L=ft(a.get(["axisLine","symbolOffset"])||0,d),w=d[0],p=d[1];S([{rotate:e.rotation+Math.PI/2,offset:L[0],r:0},{rotate:e.rotation-Math.PI/2,offset:L[1],r:Math.sqrt((v[0]-c[0])*(v[0]-c[0])+(v[1]-c[1])*(v[1]-c[1]))}],function(A,b){if(m[b]!=="none"&&m[b]!=null){var T=gt(m[b],-w/2,-p/2,w,p,g.stroke,!0),_=A.r+A.offset,C=x?c:v;T.attr({rotation:A.rotate,x:C[0]+_*Math.cos(e.rotation),y:C[1]-_*Math.sin(e.rotation),silent:!0,z2:11}),n.add(T)}})}}},axisTickLabelEstimate:function(e,t,r,a,n,o,i,l){var u=Be(t,n,l);u&&Ne(e,t,r,a,n,o,i,_e.estimate)},axisTickLabelDetermine:function(e,t,r,a,n,o,i,l){var u=Be(t,n,l);u&&Ne(e,t,r,a,n,o,i,_e.determine);var s=Qt(e,n,o,a);Kt(e,t.labelLayoutList,s),$t(e,n,o,a,e.tickDirection)},axisName:function(e,t,r,a,n,o,i,l){var u=r.ensureRecord(a);t.nameEl&&(n.remove(t.nameEl),t.nameEl=u.nameLayout=u.nameLocation=null);var s=e.axisName;if(Ae(s)){var v=e.nameLocation,c=e.nameDirection,x=a.getModel("nameTextStyle"),g=a.get("nameGap")||0,f=a.axis.getExtent(),h=a.axis.inverse?-1:1,m=new Q(0,0),d=new Q(0,0);v==="start"?(m.x=f[0]-h*g,d.x=-h):v==="end"?(m.x=f[1]+h*g,d.x=h):(m.x=(f[0]+f[1])/2,m.y=e.labelOffset+c*g,d.y=c);var L=De();d.transform(rt(L,L,e.rotation));var w=a.get("nameRotate");w!=null&&(w=w*V/180);var p,A;ie(v)?p=W.innerTextLayout(e.rotation,w??e.rotation,c):(p=Xt(e.rotation,v,w||0,f),A=e.raw.axisNameAvailableWidth,A!=null&&(A=Math.abs(A/Math.sin(p.rotation)),!isFinite(A)&&(A=null)));var b=x.getFont(),T=a.get("nameTruncate",!0)||{},_=T.ellipsis,C=de(e.raw.nameTruncateMaxWidth,T.maxWidth,A),k=l.nameMarginLevel||0,y=new Ie({x:m.x,y:m.y,rotation:p.rotation,silent:W.isLabelSilent(a),style:Ue(x,{text:s,font:b,overflow:"truncate",width:C,ellipsis:_,fill:x.getTextColor()||a.get(["axisLine","lineStyle","color"]),align:x.get("align")||p.textAlign,verticalAlign:x.get("verticalAlign")||p.textVerticalAlign}),z2:1});if(Ye({el:y,componentModel:a,itemName:s}),y.__fullText=s,y.anid="name",a.get("triggerEvent")){var M=W.makeAxisEventDataBase(a);M.targetType="axisName",M.name=s,He(y).eventData=M}o.add(y),y.updateTransform(),t.nameEl=y;var I=u.nameLayout=z({label:y,priority:y.z2,defaultAttr:{ignore:y.ignore},marginDefault:ie(v)?Gt[k]:Ft[k]});if(u.nameLocation=v,n.add(y),y.decomposeTransform(),e.shouldNameMoveOverlap&&I){var H=r.ensureRecord(a);r.resolveAxisNameOverlap(e,r,a,I,d,H)}}}};function Ne(e,t,r,a,n,o,i,l){tt(t)||Jt(e,t,n,l,a,i);var u=t.labelLayoutList;ea(e,a,u,o),e.rotation;var s=e.optionHideOverlap;qt(a,u,s),s&&Nt(nt(u,function(v){return v&&!v.label.ignore})),Ut(e,r,a,u)}function Xt(e,t,r,a){var n=Fe(r-e),o,i,l=a[0]>a[1],u=t==="start"&&!l||t!=="start"&&l;return oe(n-V/2)?(i=u?"bottom":"top",o="center"):oe(n-V*1.5)?(i=u?"top":"bottom",o="center"):(i="middle",n<V*1.5&&n>V/2?o=u?"left":"right":o=u?"right":"left"),{rotation:n,textAlign:o,textVerticalAlign:i}}function qt(e,t,r){if(mt(e.axis))return;function a(l,u,s){var v=z(t[u]),c=z(t[s]);if(!(!v||!c)){if(l===!1||v.suggestIgnore){q(v.label);return}if(c.suggestIgnore){q(c.label);return}var x=.1;if(!r){var g=[0,0,0,0];v=Re({marginForce:g},v),c=Re({marginForce:g},c)}ye(v,c,null,{touchThreshold:x})&&q(l?c.label:v.label)}}var n=e.get(["axisLabel","showMinLabel"]),o=e.get(["axisLabel","showMaxLabel"]),i=t.length;a(n,0,1),a(o,i-1,i-2)}function Kt(e,t,r){e.showMinorTicks||S(t,function(a){if(a&&a.label.ignore)for(var n=0;n<r.length;n++){var o=r[n],i=$e(o),l=ue(a.label);if(i.tickValue!=null&&!i.onBand&&i.tickValue===l.tickValue){q(o);return}}})}function q(e){e&&(e.ignore=!0)}function et(e,t,r,a,n){for(var o=[],i=[],l=[],u=0;u<e.length;u++){var s=e[u].coord;i[0]=s,i[1]=0,l[0]=s,l[1]=r,t&&(ae(i,i,t),ae(l,l,t));var v=new Ze({shape:{x1:i[0],y1:i[1],x2:l[0],y2:l[1]},style:a,z2:2,autoBatch:!0,silent:!0});je(v.shape,v.style.lineWidth),v.anid=n+"_"+e[u].tickValue,o.push(v);var c=$e(v);c.onBand=!!e[u].onBand,c.tickValue=e[u].tickValue}return o}function Qt(e,t,r,a){var n=a.axis,o=a.getModel("axisTick"),i=o.get("show");if(i==="auto"&&(i=!0,e.raw.axisTickAutoShow!=null&&(i=!!e.raw.axisTickAutoShow)),!i||n.scale.isBlank())return[];for(var l=o.getModel("lineStyle"),u=e.tickDirection*o.get("length"),s=n.getTicksCoords(),v=et(s,r.transform,u,P(l.getLineStyle(),{stroke:a.get(["axisLine","lineStyle","color"])}),"ticks"),c=0;c<v.length;c++)t.add(v[c]);return v}function $t(e,t,r,a,n){var o=a.axis,i=a.getModel("minorTick");if(!(!e.showMinorTicks||o.scale.isBlank())){var l=o.getMinorTicksCoords();if(l.length)for(var u=i.getModel("lineStyle"),s=n*i.get("length"),v=P(u.getLineStyle(),P(a.getModel("axisTick").getLineStyle(),{stroke:a.get(["axisLine","lineStyle","color"])})),c=0;c<l.length;c++)for(var x=et(l[c],r.transform,s,v,"minorticks_"+c),g=0;g<x.length;g++)t.add(x[g])}}function Be(e,t,r){if(tt(e)){var a=e.axisLabelsCreationContext,n=a.out.noPxChangeTryDetermine;if(r.noPxChange){for(var o=!0,i=0;i<n.length;i++)o=o&&n[i]();if(o)return!1}n.length&&(t.remove(e.labelGroup),xe(e,null,null,null))}return!0}function Jt(e,t,r,a,n,o){var i=n.axis,l=de(e.raw.axisLabelShow,n.get(["axisLabel","show"])),u=new me;r.add(u);var s=ht(a);if(!l||i.scale.isBlank()){xe(t,[],u,s);return}var v=n.getModel("axisLabel"),c=i.getViewLabels(s),x=(de(e.raw.labelRotate,v.get("rotate"))||0)*V/180,g=W.innerTextLayout(e.rotation,x,e.labelDirection),f=n.getCategories&&n.getCategories(!0),h=[],m=n.get("triggerEvent"),d=1/0,L=-1/0;S(c,function(p,A){var b,T=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(p.tickValue):p.tickValue,_=p.formattedLabel,C=p.rawLabel,k=v;if(f&&f[T]){var y=f[T];it(y)&&y.textStyle&&(k=new Xe(y.textStyle,v,n.ecModel))}var M=k.getTextColor()||n.get(["axisLine","lineStyle","color"]),I=k.getShallow("align",!0)||g.textAlign,H=R(k.getShallow("alignMinLabel",!0),I),N=R(k.getShallow("alignMaxLabel",!0),I),E=k.getShallow("verticalAlign",!0)||k.getShallow("baseline",!0)||g.textVerticalAlign,G=R(k.getShallow("verticalAlignMinLabel",!0),E),F=R(k.getShallow("verticalAlignMaxLabel",!0),E),ve=10+(((b=p.time)===null||b===void 0?void 0:b.level)||0);d=Math.min(d,ve),L=Math.max(L,ve);var O=new Ie({x:0,y:0,rotation:0,silent:W.isLabelSilent(n),z2:ve,style:Ue(k,{text:_,align:A===0?H:A===c.length-1?N:I,verticalAlign:A===0?G:A===c.length-1?F:E,fill:Oe(M)?M(i.type==="category"?C:i.type==="value"?T+"":T,A):M})});O.anid="label_"+T;var ce=ue(O);if(ce.break=p.break,ce.tickValue=T,ce.layoutRotation=g.rotation,Ye({el:O,componentModel:n,itemName:_,formatterParamsExtra:{isTruncated:function(){return O.isTruncated},value:C,tickIndex:A}}),m){var U=W.makeAxisEventDataBase(n);U.targetType="axisLabel",U.value=C,U.tickIndex=A,p.break&&(U.break={start:p.break.parsedBreak.vmin,end:p.break.parsedBreak.vmax}),i.type==="category"&&(U.dataIndex=T),He(O).eventData=U,p.break&&aa(n,o,O,p.break)}h.push(O),u.add(O)});var w=Y(h,function(p){return{label:p,priority:ue(p).break?p.z2+(L-d+1):p.z2,defaultAttr:{ignore:p.ignore}}});xe(t,w,u,s)}function tt(e){return!!e.labelLayoutList}function xe(e,t,r,a){e.labelLayoutList=t,e.labelGroup=r,e.axisLabelsCreationContext=a}function ea(e,t,r,a){var n=t.get(["axisLabel","margin"]);S(r,function(o,i){var l=z(o);if(l){var u=l.label,s=ue(u);l.suggestIgnore=u.ignore,u.ignore=!1,we(D,ta),D.x=t.axis.dataToCoord(s.tickValue),D.y=e.labelOffset+e.labelDirection*n,D.rotation=s.layoutRotation,a.add(D),D.updateTransform(),a.remove(D),D.decomposeTransform(),we(u,D),u.markRedraw(),se(l,!0),z(l)}})}var D=new Ve,ta=new Ve;function Ae(e){return!!e}function aa(e,t,r,a){r.on("click",function(n){var o={type:zt,breaks:[{start:a.parsedBreak.breakOption.start,end:a.parsedBreak.breakOption.end}]};o[e.axis.dim+"AxisIndex"]=e.componentIndex,t.dispatchAction(o)})}function ra(e,t,r){var a=pe.prototype,n=a.getTicks.call(r),o=a.getTicks.call(r,{expandToNicedExtent:!0}),i=n.length-1,l=a.getInterval.call(r),u=dt(e,t),s=u.extent,v=u.fixMin,c=u.fixMax;e.type==="log"&&(s=pt(e.base,s,!0)),e.setBreaksFromOption(xt(t)),e.setExtent(s[0],s[1]),e.calcNiceExtent({splitNumber:i,fixMin:v,fixMax:c});var x=a.getExtent.call(e);v&&(s[0]=x[0]),c&&(s[1]=x[1]);var g=a.getInterval.call(e),f=s[0],h=s[1];if(v&&c)g=(h-f)/i;else if(v)for(h=s[0]+g*i;h<s[1]&&isFinite(h)&&isFinite(s[1]);)g=fe(g),h=s[0]+g*i;else if(c)for(f=s[1]-g*i;f>s[0]&&isFinite(f)&&isFinite(s[0]);)g=fe(g),f=s[1]-g*i;else{var m=e.getTicks().length-1;m>i&&(g=fe(g));var d=g*i;h=Math.ceil(s[1]/g)*g,f=ge(h-d),f<0&&s[0]>=0?(f=0,h=ge(d)):h>0&&s[1]<=0&&(h=0,f=-ge(d))}var L=(n[0].value-o[0].value)/l,w=(n[i].value-o[i].value)/l;a.setExtent.call(e,f+g*L,h+g*w),a.setInterval.call(e,g),(L||w)&&a.setNiceExtent.call(e,f+g,h-g)}var j=Ot.value;function te(e,t){return P({show:t},e)}var na=(function(e){be(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(){var r=this.get("boundaryGap"),a=this.get("splitNumber"),n=this.get("scale"),o=this.get("axisLine"),i=this.get("axisTick"),l=this.get("axisLabel"),u=this.get("axisName"),s=this.get(["axisName","show"]),v=this.get(["axisName","formatter"]),c=this.get("axisNameGap"),x=this.get("triggerEvent"),g=Y(this.get("indicator")||[],function(f){f.max!=null&&f.max>0&&!f.min?f.min=0:f.min!=null&&f.min<0&&!f.max&&(f.max=0);var h=u;f.color!=null&&(h=P({color:f.color},u));var m=K(ut(f),{boundaryGap:r,splitNumber:a,scale:n,axisLine:o,axisTick:i,axisLabel:l,name:f.text,showName:s,nameLocation:"end",nameGap:c,nameTextStyle:h,triggerEvent:x},!1);if(re(v)){var d=m.name;m.name=v.replace("{value}",d??"")}else Oe(v)&&(m.name=v(m.name,m));var L=new Xe(m,null,this.ecModel);return vt(L,bt.prototype),L.mainType="radar",L.componentIndex=this.componentIndex,L},this);this._indicatorModels=g},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:B.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:K({lineStyle:{color:B.color.neutral20}},j.axisLine),axisLabel:te(j.axisLabel,!1),axisTick:te(j.axisTick,!1),splitLine:te(j.splitLine,!0),splitArea:te(j.splitArea,!0),indicator:[]},t})(yt),ia=(function(e){be(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,a,n){var o=this.group;o.removeAll(),this._buildAxes(r,n),this._buildSplitLineAndArea(r)},t.prototype._buildAxes=function(r,a){var n=r.coordinateSystem,o=n.getIndicatorAxes(),i=Y(o,function(l){var u=l.model.get("showName")?l.name:"",s=new W(l.model,a,{axisName:u,position:[n.cx,n.cy],rotation:l.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return s});S(i,function(l){l.build(),this.group.add(l.group)},this)},t.prototype._buildSplitLineAndArea=function(r){var a=r.coordinateSystem,n=a.getIndicatorAxes();if(!n.length)return;var o=r.get("shape"),i=r.getModel("splitLine"),l=r.getModel("splitArea"),u=i.getModel("lineStyle"),s=l.getModel("areaStyle"),v=i.get("show"),c=l.get("show"),x=u.get("color"),g=s.get("color"),f=ke(x)?x:[x],h=ke(g)?g:[g],m=[],d=[];function L(N,E,G){var F=G%E.length;return N[F]=N[F]||[],F}if(o==="circle")for(var w=n[0].getTicksCoords(),p=a.cx,A=a.cy,b=0;b<w.length;b++){if(v){var T=L(m,f,b);m[T].push(new Lt({shape:{cx:p,cy:A,r:w[b].coord}}))}if(c&&b<w.length-1){var T=L(d,h,b);d[T].push(new At({shape:{cx:p,cy:A,r0:w[b].coord,r:w[b+1].coord}}))}}else for(var _,C=Y(n,function(N,E){var G=N.getTicksCoords();return _=_==null?G.length-1:Math.min(G.length-1,_),Y(G,function(F){return a.coordToPoint(F.coord,E)})}),k=[],b=0;b<=_;b++){for(var y=[],M=0;M<n.length;M++)y.push(C[M][b]);if(y[0]&&y.push(y[0].slice()),v){var T=L(m,f,b);m[T].push(new Tt({shape:{points:y}}))}if(c&&k){var T=L(d,h,b-1);d[T].push(new wt({shape:{points:y.concat(k)}}))}k=y.slice().reverse()}var I=u.getLineStyle(),H=s.getAreaStyle();S(d,function(N,E){this.group.add(Me(N,{style:P({stroke:"none",fill:h[E%h.length]},H),silent:!0}))},this),S(m,function(N,E){this.group.add(Me(N,{style:P({fill:"none",stroke:f[E%f.length]},I),silent:!0}))},this)},t.type="radar",t})(kt),oa=(function(e){be(t,e);function t(r,a,n){var o=e.call(this,r,a,n)||this;return o.type="value",o.angle=0,o.name="",o}return t})(St),la=(function(){function e(t,r,a){this.dimensions=[],this._model=t,this._indicatorAxes=Y(t.getIndicatorModels(),function(n,o){var i="indicator_"+o,l=new oa(i,new pe);return l.name=n.get("name"),l.model=n,n.axis=l,this.dimensions.push(i),l},this),this.resize(t,a)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(t,r){var a=this._indicatorAxes[r];return this.coordToPoint(a.dataToCoord(t),r)},e.prototype.coordToPoint=function(t,r){var a=this._indicatorAxes[r],n=a.angle,o=this.cx+t*Math.cos(n),i=this.cy-t*Math.sin(n);return[o,i]},e.prototype.pointToData=function(t){var r=t[0]-this.cx,a=t[1]-this.cy,n=Math.sqrt(r*r+a*a);r/=n,a/=n;for(var o=Math.atan2(-a,r),i=1/0,l,u=-1,s=0;s<this._indicatorAxes.length;s++){var v=this._indicatorAxes[s],c=Math.abs(o-v.angle);c<i&&(l=v,u=s,i=c)}return[u,+(l&&l.coordToData(n))]},e.prototype.resize=function(t,r){var a=_t(t,r).refContainer,n=t.get("center"),o=Math.min(a.width,a.height)/2;this.cx=J(n[0],a.width)+a.x,this.cy=J(n[1],a.height)+a.y,this.startAngle=t.get("startAngle")*Math.PI/180;var i=t.get("radius");(re(i)||Pe(i))&&(i=[0,i]),this.r0=J(i[0],o),this.r=J(i[1],o),S(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var s=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;s=Math.atan2(Math.sin(s),Math.cos(s)),l.angle=s},this)},e.prototype.update=function(t,r){var a=this._indicatorAxes,n=this._model;S(a,function(l){l.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(l,u){if(!(l.get("coordinateSystem")!=="radar"||t.getComponent("radar",l.get("radarIndex"))!==n)){var s=l.getData();S(a,function(v){v.scale.unionExtentFromData(s,s.mapDimension(v.dim))})}},this);var o=n.get("splitNumber"),i=new pe;i.setExtent(0,o),i.setInterval(1),S(a,function(l,u){ra(l.scale,l.model,i)})},e.prototype.convertToPixel=function(t,r,a){return console.warn("Not implemented."),null},e.prototype.convertFromPixel=function(t,r,a){return console.warn("Not implemented."),null},e.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},e.create=function(t,r){var a=[];return t.eachComponent("radar",function(n){var o=new e(n,t,r);a.push(o),n.coordinateSystem=o}),t.eachSeriesByType("radar",function(n){n.get("coordinateSystem")==="radar"&&(n.coordinateSystem=a[n.get("radarIndex")||0])}),a},e.dimensions=[],e})();function va(e){e.registerCoordinateSystem("radar",la),e.registerComponentModel(na),e.registerComponentView(ia),e.registerVisual({seriesType:"radar",reset:function(t){var r=t.getData();r.each(function(a){r.setItemVisual(a,"legendIcon","roundRect")}),r.setVisual("legendIcon","roundRect")}})}export{W as A,Ot as a,ra as b,Wt as c,ue as g,va as i,Ht as m,Yt as r};
