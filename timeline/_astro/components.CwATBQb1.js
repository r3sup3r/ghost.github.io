import{_ as D,p as mi,e as C,H as rt,m as Xt,y as Xe,x as xi,B as Qt,t as Jt,W as Ci,d as at,E as F,k as _i,az as bi,Q as ot,aA as Si,o as B,j as st,n as ct,f as O,c as Yt,R as Y,G as _t,Z as X,g as E,aB as Ai,l as M,h as j,U as wi,V as Ti,aC as Pi,aD as Di,P as k,a as lt,aE as te,aF as Ii,aG as Li,aH as Bi,aI as Oi,A as ki,av as ee,i as Mi,aJ as Ri,aK as Gi,aL as zi}from"./dashStyle.D9M2nO6r.js";import{bO as Ut,bP as pt,be as w,az as J,m as vt,A as Hi,bQ as Ei,bR as Vi,b6 as Ni,bS as kt,bs as Zt,F as q,v as Wi,bT as Fi,bU as Xi,w as ie,bV as ut,bc as Yi,bg as Ye,bW as $,bX as gt,bY as re,bZ as ne,b_ as Ui,bm as $t,M as K,aA as tt,bf as bt,b$ as Zi,a7 as ae,bi as oe,bL as $i,ag as Ue,c0 as Ze,c1 as Mt,ar as $e,c2 as Ke,c3 as Ki,ax as Kt,x as yt,bF as ji,b5 as Q,ay as je,bD as mt,c4 as qe,c5 as qi,c6 as Qi,E as G,c7 as Ji,bN as se,c8 as Tt,c9 as le,ca as ue,a0 as tr,av as er,U as he,cb as ir,cc as rr,cd as ce,ce as nr,by as ar,z as de,bh as or,cf as nt,cg as sr,y as lr,ch as ur}from"./Axis.DTz73mgW.js";import{a as hr,A as Qe,b as cr,c as dr,g as fr,r as pr,m as vr}from"./install.DYYUQQoX.js";import{i as Jn}from"./install.DYYUQQoX.js";var Je={left:0,right:0,top:0,bottom:0},xt=["25%","25%"],gr=(function(i){D(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.mergeDefaultAndTheme=function(t,r){var n=Ut(t.outerBounds);i.prototype.mergeDefaultAndTheme.apply(this,arguments),n&&t.outerBounds&&pt(t.outerBounds,n)},e.prototype.mergeOption=function(t,r){i.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&t.outerBounds&&pt(this.option.outerBounds,t.outerBounds)},e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:Je,outerBoundsContain:"all",outerBoundsClampWidth:xt[0],outerBoundsClampHeight:xt[1],backgroundColor:w.color.transparent,borderWidth:1,borderColor:w.color.neutral30},e})(J),Rt=(function(i){D(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",vt).models[0]},e.type="cartesian2dAxis",e})(J);mi(Rt,Hi);var yr={value:1,category:1,time:1,log:1};function fe(i,e,t,r){C(yr,function(n,a){var o=rt(rt({},hr[a],!0),r,!0),l=(function(s){D(u,s);function u(){var h=s!==null&&s.apply(this,arguments)||this;return h.type=e+"Axis."+a,h}return u.prototype.mergeDefaultAndTheme=function(h,c){var d=Ei(this),f=d?Ut(h):{},p=c.getTheme();rt(h,p.get(a+"Axis")),rt(h,this.getDefaultOption()),h.type=pe(h),d&&pt(h,f,d)},u.prototype.optionUpdated=function(){var h=this.option;h.type==="category"&&(this.__ordinalMeta=Vi.createByAxisModel(this))},u.prototype.getCategories=function(h){var c=this.option;if(c.type==="category")return h?c.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.prototype.updateAxisBreaks=function(h){return{breaks:[]}},u.type=e+"Axis."+a,u.defaultOption=o,u})(t);i.registerComponentModel(l)}),i.registerSubTypeDefaulter(e+"Axis",pe)}function pe(i){return i.type||(i.data?"category":"value")}var mr=(function(){function i(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return i.prototype.getAxis=function(e){return this._axes[e]},i.prototype.getAxes=function(){return Xt(this._dimList,function(e){return this._axes[e]},this)},i.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Xe(this.getAxes(),function(t){return t.scale.type===e})},i.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},i})(),Gt=["x","y"];function ve(i){return(i.type==="interval"||i.type==="time")&&!i.hasBreaks()}var xr=(function(i){D(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=Gt,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!ve(t)||!ve(r))){var n=t.getExtent(),a=r.getExtent(),o=this.dataToPoint([n[0],a[0]]),l=this.dataToPoint([n[1],a[1]]),s=n[1]-n[0],u=a[1]-a[0];if(!(!s||!u)){var h=(l[0]-o[0])/s,c=(l[1]-o[1])/u,d=o[0]-n[0]*h,f=o[1]-a[0]*c,p=this._transform=[h,0,0,c,d,f];this._invTransform=xi([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var r=this.getAxis("x"),n=this.getAxis("y");return r.contain(r.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,r){var n=this.dataToPoint(t),a=this.dataToPoint(r),o=this.getArea(),l=new Qt(n[0],n[1],a[0]-n[0],a[1]-n[1]);return o.intersect(l)},e.prototype.dataToPoint=function(t,r,n){n=n||[];var a=t[0],o=t[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return Jt(n,t,this._transform);var l=this.getAxis("x"),s=this.getAxis("y");return n[0]=l.toGlobalCoord(l.dataToCoord(a,r)),n[1]=s.toGlobalCoord(s.dataToCoord(o,r)),n},e.prototype.clampData=function(t,r){var n=this.getAxis("x").scale,a=this.getAxis("y").scale,o=n.getExtent(),l=a.getExtent(),s=n.parse(t[0]),u=a.parse(t[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(l[0],l[1]),u),Math.max(l[0],l[1])),r},e.prototype.pointToData=function(t,r,n){if(n=n||[],this._invTransform)return Jt(n,t,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return n[0]=a.coordToData(a.toLocalCoord(t[0]),r),n[1]=o.coordToData(o.toLocalCoord(t[1]),r),n},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var r=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),a=Math.min(r[0],r[1])-t,o=Math.min(n[0],n[1])-t,l=Math.max(r[0],r[1])-a+t,s=Math.max(n[0],n[1])-o+t;return new Qt(a,o,l,s)},e})(mr),Cr=(function(i){D(e,i);function e(t,r,n,a,o){var l=i.call(this,t,r,n)||this;return l.index=0,l.type=a||"value",l.position=o||"bottom",l}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),t&&r[0]>r[1]&&r.reverse(),r},e.prototype.pointToData=function(t,r){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),r)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e})(Ni);function Ct(i,e,t){t=t||{};var r=e.axis,n={},a=r.getAxesOnZeroOf()[0],o=r.position,l=a?"onZero":o,s=r.dim,u=[i.x,i.x+i.width,i.y,i.y+i.height],h={left:0,right:1,top:0,bottom:1,onZero:2},c=e.get("offset")||0,d=s==="x"?[u[2]-c,u[3]+c]:[u[0]-c,u[1]+c];if(a){var f=a.toGlobalCoord(a.dataToCoord(0));d[h.onZero]=Math.max(Math.min(f,d[1]),d[0])}n.position=[s==="y"?d[h[l]]:u[0],s==="x"?d[h[l]]:u[3]],n.rotation=Math.PI/2*(s==="x"?0:1);var p={top:-1,bottom:1,left:-1,right:1};n.labelDirection=n.tickDirection=n.nameDirection=p[o],n.labelOffset=a?d[h[o]]-d[h.onZero]:0,e.get(["axisTick","inside"])&&(n.tickDirection=-n.tickDirection),Ci(t.labelInside,e.get(["axisLabel","inside"]))&&(n.labelDirection=-n.labelDirection);var v=e.get(["axisLabel","rotate"]);return n.labelRotate=l==="top"?-v:v,n.z2=1,n}function _r(i){return i.coordinateSystem&&i.coordinateSystem.type==="cartesian2d"}function ge(i){var e={xAxisModel:null,yAxisModel:null};return C(e,function(t,r){var n=r.replace(/Model$/,""),a=i.getReferringComponents(n,vt).models[0];e[r]=a}),e}function br(i,e,t,r,n,a){for(var o=Ct(i,t),l=!1,s=!1,u=0;u<e.length;u++)kt(e[u].getOtherAxis(t.axis).scale)&&(l=s=!0,t.axis.type==="category"&&t.axis.onBand&&(s=!1));return o.axisLineAutoShow=l,o.axisTickAutoShow=s,o.defaultNameMoveOverlap=a,new Qe(t,r,o,n)}function Sr(i,e,t){var r=Ct(e,t);i.updateCfg(r)}var ye=[[3,1],[0,2]],Ar=(function(){function i(e,t,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Gt,this._initCartesian(e,t,r),this.model=e}return i.prototype.getRect=function(){return this._rect},i.prototype.update=function(e,t){var r=this._axesMap;this._updateScale(e,this.model);function n(o){var l,s=_i(o),u=s.length;if(u){for(var h=[],c=u-1;c>=0;c--){var d=+s[c],f=o[d],p=f.model,v=f.scale;kt(v)&&p.get("alignTicks")&&p.get("interval")==null?h.push(f):(ie(v,p),kt(v)&&(l=f))}h.length&&(l||(l=h.pop(),ie(l.scale,l.model)),C(h,function(y){cr(y.scale,y.model,l.scale)}))}}n(r.x),n(r.y);var a={};C(r.x,function(o){me(r,"y",o,a)}),C(r.y,function(o){me(r,"x",o,a)}),this.resize(this.model,t)},i.prototype.resize=function(e,t,r){var n=Zt(e,t),a=this._rect=q(e.getBoxLayoutParams(),n.refContainer),o=this._axesMap,l=this._coordsList,s=e.get("containLabel");if(ti(o,a),!r){var u=Tr(a,l,o,s,t),h=void 0;if(s)h=_e(a.clone(),"axisLabel",null,a,o,u,n);else{var c=Pr(e,a,n),d=c.outerBoundsRect,f=c.parsedOuterBoundsContain,p=c.outerBoundsClamp;d&&(h=_e(d,f,p,a,o,u,n))}ei(a,o,$t.determine,null,h,n)}C(this._coordsList,function(v){v.calcAffineTransform()})},i.prototype.getAxis=function(e,t){var r=this._axesMap[e];if(r!=null)return r[t||0]},i.prototype.getAxes=function(){return this._axesList.slice()},i.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var r="x"+e+"y"+t;return this._coordsMap[r]}at(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var n=0,a=this._coordsList;n<a.length;n++)if(a[n].getAxis("x").index===e||a[n].getAxis("y").index===t)return a[n]},i.prototype.getCartesians=function(){return this._coordsList.slice()},i.prototype.convertToPixel=function(e,t,r){var n=this._findConvertTarget(t);return n.cartesian?n.cartesian.dataToPoint(r):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(r)):null},i.prototype.convertFromPixel=function(e,t,r){var n=this._findConvertTarget(t);return n.cartesian?n.cartesian.pointToData(r):n.axis?n.axis.coordToData(n.axis.toLocalCoord(r)):null},i.prototype._findConvertTarget=function(e){var t=e.seriesModel,r=e.xAxisModel||t&&t.getReferringComponents("xAxis",vt).models[0],n=e.yAxisModel||t&&t.getReferringComponents("yAxis",vt).models[0],a=e.gridModel,o=this._coordsList,l,s;if(t)l=t.coordinateSystem,F(o,l)<0&&(l=null);else if(r&&n)l=this.getCartesian(r.componentIndex,n.componentIndex);else if(r)s=this.getAxis("x",r.componentIndex);else if(n)s=this.getAxis("y",n.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(l=this._coordsList[0])}return{cartesian:l,axis:s}},i.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},i.prototype._initCartesian=function(e,t,r){var n=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},l={x:{},y:{}},s={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!s.x||!s.y){this._axesMap={},this._axesList=[];return}this._axesMap=l,C(l.x,function(h,c){C(l.y,function(d,f){var p="x"+c+"y"+f,v=new xr(p);v.master=n,v.model=e,n._coordsMap[p]=v,n._coordsList.push(v),v.addAxis(h),v.addAxis(d)})});function u(h){return function(c,d){if(Pt(c,e)){var f=c.get("position");h==="x"?f!=="top"&&f!=="bottom"&&(f=o.bottom?"top":"bottom"):f!=="left"&&f!=="right"&&(f=o.left?"right":"left"),o[f]=!0;var p=new Cr(h,Wi(c),[0,0],c.get("type"),f),v=p.type==="category";p.onBand=v&&c.get("boundaryGap"),p.inverse=c.get("inverse"),c.axis=p,p.model=c,p.grid=a,p.index=d,a._axesList.push(p),l[h][d]=p,s[h]++}}}},i.prototype._updateScale=function(e,t){C(this._axesList,function(n){if(n.scale.setExtent(1/0,-1/0),n.type==="category"){var a=n.model.get("categorySortInfo");n.scale.setSortInfo(a)}}),e.eachSeries(function(n){if(_r(n)){var a=ge(n),o=a.xAxisModel,l=a.yAxisModel;if(!Pt(o,t)||!Pt(l,t))return;var s=this.getCartesian(o.componentIndex,l.componentIndex),u=n.getData(),h=s.getAxis("x"),c=s.getAxis("y");r(u,h),r(u,c)}},this);function r(n,a){C(Fi(n,a.dim),function(o){a.scale.unionExtentFromData(n,o)})}},i.prototype.getTooltipAxes=function(e){var t=[],r=[];return C(this.getCartesians(),function(n){var a=e!=null&&e!=="auto"?n.getAxis(e):n.getBaseAxis(),o=n.getOtherAxis(a);F(t,a)<0&&t.push(a),F(r,o)<0&&r.push(o)}),{baseAxes:t,otherAxes:r}},i.create=function(e,t){var r=[];return e.eachComponent("grid",function(n,a){var o=new i(n,e,t);o.name="grid_"+a,o.resize(n,t,!0),n.coordinateSystem=o,r.push(o)}),e.eachSeries(function(n){Xi({targetModel:n,coordSysType:"cartesian2d",coordSysProvider:a});function a(){var o=ge(n),l=o.xAxisModel,s=o.yAxisModel,u=l.getCoordSysModel(),h=u.coordinateSystem;return h.getCartesian(l.componentIndex,s.componentIndex)}}),r},i.dimensions=Gt,i})();function Pt(i,e){return i.getCoordSysModel()===e}function me(i,e,t,r){t.getAxesOnZeroOf=function(){return a?[a]:[]};var n=i[e],a,o=t.model,l=o.get(["axisLine","onZero"]),s=o.get(["axisLine","onZeroAxisIndex"]);if(!l)return;if(s!=null)xe(n[s])&&(a=n[s]);else for(var u in n)if(n.hasOwnProperty(u)&&xe(n[u])&&!r[h(n[u])]){a=n[u];break}a&&(r[h(a)]=!0);function h(c){return c.dim+"_"+c.index}}function xe(i){return i&&i.type!=="category"&&i.type!=="time"&&Ui(i)}function wr(i,e){var t=i.getExtent(),r=t[0]+t[1];i.toGlobalCoord=i.dim==="x"?function(n){return n+e}:function(n){return r-n+e},i.toLocalCoord=i.dim==="x"?function(n){return n-e}:function(n){return r-n+e}}function ti(i,e){C(i.x,function(t){return Ce(t,e.x,e.width)}),C(i.y,function(t){return Ce(t,e.y,e.height)})}function Ce(i,e,t){var r=[0,t],n=i.inverse?1:0;i.setExtent(r[n],r[1-n]),wr(i,e)}function _e(i,e,t,r,n,a,o){ei(r,n,$t.estimate,e,!1,o);var l=[0,0,0,0];u(0),u(1),h(r,0,NaN),h(r,1,NaN);var s=bi(l,function(d){return d>0})==null;return Yi(r,l,!0,!0,t),ti(n,r),s;function u(d){C(n[$[d]],function(f){if(ut(f.model)){var p=a.ensureRecord(f.model),v=p.labelInfoList;if(v)for(var y=0;y<v.length;y++){var g=v[y],x=f.scale.normalize(fr(g.label).tickValue);x=d===1?1-x:x,h(g.rect,d,x),h(g.rect,1-d,NaN)}var m=p.nameLayout;if(m){var x=Ye(p.nameLocation)?.5:NaN;h(m.rect,d,x),h(m.rect,1-d,NaN)}}})}function h(d,f,p){var v=i[$[f]]-d[$[f]],y=d[gt[f]]+d[$[f]]-(i[gt[f]]+i[$[f]]);v=c(v,1-p),y=c(y,p);var g=ye[f][0],x=ye[f][1];l[g]=re(l[g],v),l[x]=re(l[x],y)}function c(d,f){return d>0&&!Si(f)&&f>1e-4&&(d/=f),d}}function Tr(i,e,t,r,n){var a=new dr(Dr);return C(t,function(o){return C(o,function(l){if(ut(l.model)){var s=!r;l.axisBuilder=br(i,e,l.model,n,a,s)}})}),a}function ei(i,e,t,r,n,a){var o=t===$t.determine;C(e,function(u){return C(u,function(h){ut(h.model)&&(Sr(h.axisBuilder,i,h.model),h.axisBuilder.build(o?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:n}))})});var l={x:0,y:0};s(0),s(1);function s(u){l[$[1-u]]=i[gt[u]]<=a.refContainer[gt[u]]*.5?0:1-u===1?2:1}C(e,function(u,h){return C(u,function(c){ut(c.model)&&((r==="all"||o)&&c.axisBuilder.build({axisName:!0},{nameMarginLevel:l[h]}),o&&c.axisBuilder.build({axisLine:!0}))})})}function Pr(i,e,t){var r,n=i.get("outerBoundsMode",!0);n==="same"?r=e.clone():(n==null||n==="auto")&&(r=q(i.get("outerBounds",!0)||Je,t.refContainer));var a=i.get("outerBoundsContain",!0),o;a==null||a==="auto"||F(["all","axisLabel"],a)<0?o="all":o=a;var l=[ne(ot(i.get("outerBoundsClampWidth",!0),xt[0]),e.width),ne(ot(i.get("outerBoundsClampHeight",!0),xt[1]),e.height)];return{outerBoundsRect:r,parsedOuterBoundsContain:o,outerBoundsClamp:l}}var Dr=function(i,e,t,r,n,a){var o=t.axis.dim==="x"?"y":"x";pr(i,e,t,r,n,a),Ye(i.nameLocation)||C(e.recordMap[o],function(l){l&&l.labelInfoList&&l.dirVec&&vr(l.labelInfoList,l.dirVec,r,n)})};function Ir(i,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return Lr(t,i,e),t.seriesInvolved&&Or(t,i),t}function Lr(i,e,t){var r=e.getComponent("tooltip"),n=e.getComponent("axisPointer"),a=n.get("link",!0)||[],o=[];C(t.getCoordinateSystems(),function(l){if(!l.axisPointerEnabled)return;var s=ht(l.model),u=i.coordSysAxesInfo[s]={};i.coordSysMap[s]=l;var h=l.model,c=h.getModel("tooltip",r);if(C(l.getAxes(),B(v,!1,null)),l.getTooltipAxes&&r&&c.get("show")){var d=c.get("trigger")==="axis",f=c.get(["axisPointer","type"])==="cross",p=l.getTooltipAxes(c.get(["axisPointer","axis"]));(d||f)&&C(p.baseAxes,B(v,f?"cross":!0,d)),f&&C(p.otherAxes,B(v,"cross",!1))}function v(y,g,x){var m=x.model.getModel("axisPointer",n),_=m.get("show");if(!(!_||_==="auto"&&!y&&!zt(m))){g==null&&(g=m.get("triggerTooltip")),m=y?Br(x,c,n,e,y,g):m;var S=m.get("snap"),b=m.get("triggerEmphasis"),A=ht(x.model),T=g||S||x.type==="category",I=i.axesInfo[A]={key:A,axis:x,coordSys:l,axisPointerModel:m,triggerTooltip:g,triggerEmphasis:b,involveSeries:T,snap:S,useHandle:zt(m),seriesModels:[],linkGroup:null};u[A]=I,i.seriesInvolved=i.seriesInvolved||T;var L=kr(a,x);if(L!=null){var P=o[L]||(o[L]={axesInfo:{}});P.axesInfo[A]=I,P.mapper=a[L].mapper,I.linkGroup=P}}}})}function Br(i,e,t,r,n,a){var o=e.getModel("axisPointer"),l=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],s={};C(l,function(d){s[d]=st(o.get(d))}),s.snap=i.type!=="category"&&!!a,o.get("type")==="cross"&&(s.type="line");var u=s.label||(s.label={});if(u.show==null&&(u.show=!1),n==="cross"){var h=o.get(["label","show"]);if(u.show=h??!0,!a){var c=s.lineStyle=o.get("crossStyle");c&&ct(u,c.textStyle)}}return i.model.getModel("axisPointer",new K(s,t,r))}function Or(i,e){e.eachSeries(function(t){var r=t.coordinateSystem,n=t.get(["tooltip","trigger"],!0),a=t.get(["tooltip","show"],!0);!r||!r.model||n==="none"||n===!1||n==="item"||a===!1||t.get(["axisPointer","show"],!0)===!1||C(i.coordSysAxesInfo[ht(r.model)],function(o){var l=o.axis;r.getAxis(l.dim)===l&&(o.seriesModels.push(t),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=t.getData().count())})})}function kr(i,e){for(var t=e.model,r=e.dim,n=0;n<i.length;n++){var a=i[n]||{};if(Dt(a[r+"AxisId"],t.id)||Dt(a[r+"AxisIndex"],t.componentIndex)||Dt(a[r+"AxisName"],t.name))return n}}function Dt(i,e){return i==="all"||O(i)&&F(i,e)>=0||i===e}function Mr(i){var e=jt(i);if(e){var t=e.axisPointerModel,r=e.axis.scale,n=t.option,a=t.get("status"),o=t.get("value");o!=null&&(o=r.parse(o));var l=zt(t);a==null&&(n.status=l?"show":"hide");var s=r.getExtent().slice();s[0]>s[1]&&s.reverse(),(o==null||o>s[1])&&(o=s[1]),o<s[0]&&(o=s[0]),n.value=o,l&&(n.status=e.axis.scale.isBlank()?"hide":"show")}}function jt(i){var e=(i.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[ht(i)]}function Rr(i){var e=jt(i);return e&&e.axisPointerModel}function zt(i){return!!i.get(["handle","show"])}function ht(i){return i.type+"||"+i.id}var be={},ii=(function(i){D(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,n,a){this.axisPointerClass&&Mr(t),i.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,n,!0)},e.prototype.updateAxisPointer=function(t,r,n,a){this._doUpdateAxisPointerClass(t,n,!1)},e.prototype.remove=function(t,r){var n=this._axisPointer;n&&n.remove(r)},e.prototype.dispose=function(t,r){this._disposeAxisPointer(r),i.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,r,n){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var o=Rr(t);o?(this._axisPointer||(this._axisPointer=new a)).render(t,o,r,n):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,r){be[t]=r},e.getAxisPointerClass=function(t){return t&&be[t]},e.type="axis",e})(tt),Ht=bt();function Gr(i,e,t,r){var n=t.axis;if(!n.scale.isBlank()){var a=t.getModel("splitArea"),o=a.getModel("areaStyle"),l=o.get("color"),s=r.coordinateSystem.getRect(),u=n.getTicksCoords({tickModel:a,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(u.length){var h=l.length,c=Ht(i).splitAreaColors,d=Yt(),f=0;if(c)for(var p=0;p<u.length;p++){var v=c.get(u[p].tickValue);if(v!=null){f=(v+(h-1)*p)%h;break}}var y=n.toGlobalCoord(u[0].coord),g=o.getAreaStyle();l=O(l)?l:[l];for(var p=1;p<u.length;p++){var x=n.toGlobalCoord(u[p].coord),m=void 0,_=void 0,S=void 0,b=void 0;n.isHorizontal()?(m=y,_=s.y,S=x-m,b=s.height,y=m+S):(m=s.x,_=y,S=s.width,b=x-_,y=_+b);var A=u[p-1].tickValue;A!=null&&d.set(A,f),e.add(new Y({anid:A!=null?"area_"+A:null,shape:{x:m,y:_,width:S,height:b},style:ct({fill:l[f]},g),autoBatch:!0,silent:!0})),f=(f+1)%h}Ht(i).splitAreaColors=d}}}function zr(i){Ht(i).splitAreaColors=null}var Hr=["splitArea","splitLine","minorSplitLine","breakArea"],ri=(function(i){D(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,r,n,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new _t,this.group.add(this._axisGroup),!!ut(t)){this._axisGroup.add(t.axis.axisBuilder.group),C(Hr,function(s){t.get([s,"show"])&&Er[s](this,this._axisGroup,t,t.getCoordSysModel(),n)},this);var l=a&&a.type==="changeAxisOrder"&&a.isInitSort;l||Zi(o,this._axisGroup,t),i.prototype.render.call(this,t,r,n,a)}},e.prototype.remove=function(){zr(this)},e.type="cartesianAxis",e})(ii),Er={splitLine:function(i,e,t,r,n){var a=t.axis;if(!a.scale.isBlank()){var o=t.getModel("splitLine"),l=o.getModel("lineStyle"),s=l.get("color"),u=o.get("showMinLine")!==!1,h=o.get("showMaxLine")!==!1;s=O(s)?s:[s];for(var c=r.coordinateSystem.getRect(),d=a.isHorizontal(),f=0,p=a.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),v=[],y=[],g=l.getLineStyle(),x=0;x<p.length;x++){var m=a.toGlobalCoord(p[x].coord);if(!(x===0&&!u||x===p.length-1&&!h)){var _=p[x].tickValue;d?(v[0]=m,v[1]=c.y,y[0]=m,y[1]=c.y+c.height):(v[0]=c.x,v[1]=m,y[0]=c.x+c.width,y[1]=m);var S=f++%s.length,b=new ae({anid:_!=null?"line_"+_:null,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:y[0],y2:y[1]},style:ct({stroke:s[S]},g),silent:!0});oe(b.shape,g.lineWidth),e.add(b)}}}},minorSplitLine:function(i,e,t,r,n){var a=t.axis,o=t.getModel("minorSplitLine"),l=o.getModel("lineStyle"),s=r.coordinateSystem.getRect(),u=a.isHorizontal(),h=a.getMinorTicksCoords();if(h.length)for(var c=[],d=[],f=l.getLineStyle(),p=0;p<h.length;p++)for(var v=0;v<h[p].length;v++){var y=a.toGlobalCoord(h[p][v].coord);u?(c[0]=y,c[1]=s.y,d[0]=y,d[1]=s.y+s.height):(c[0]=s.x,c[1]=y,d[0]=s.x+s.width,d[1]=y);var g=new ae({anid:"minor_line_"+h[p][v].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:f,silent:!0});oe(g.shape,f.lineWidth),e.add(g)}},splitArea:function(i,e,t,r,n){Gr(i,e,t,r)},breakArea:function(i,e,t,r,n){t.axis.scale}},ni=(function(i){D(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e})(ri),Vr=(function(i){D(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=ni.type,t}return e.type="yAxis",e})(ri),Nr=(function(i){D(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,r){this.group.removeAll(),t.get("show")&&this.group.add(new Y({shape:t.coordinateSystem.getRect(),style:ct({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e})(tt),Se={offset:0};function Wr(i){i.registerComponentView(Nr),i.registerComponentModel(gr),i.registerCoordinateSystem("cartesian2d",Ar),fe(i,"x",Rt,Se),fe(i,"y",Rt,Se),i.registerComponentView(ni),i.registerComponentView(Vr),i.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var W=bt(),Ae=st,It=E,Fr=(function(){function i(){this._dragging=!1,this.animationThreshold=15}return i.prototype.render=function(e,t,r,n){var a=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,!(!n&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var l=this._group,s=this._handle;if(!o||o==="hide"){l&&l.hide(),s&&s.hide();return}l&&l.show(),s&&s.show();var u={};this.makeElOption(u,a,e,t,r);var h=u.graphicKey;h!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=h;var c=this._moveAnimation=this.determineAnimation(e,t);if(!l)l=this._group=new _t,this.createPointerEl(l,u,e,t),this.createLabelEl(l,u,e,t),r.getZr().add(l);else{var d=B(we,t,c);this.updatePointerEl(l,u,d),this.updateLabelEl(l,u,d,t)}Pe(l,t,!0),this._renderHandle(a)}},i.prototype.remove=function(e){this.clear(e)},i.prototype.dispose=function(e){this.clear(e)},i.prototype.determineAnimation=function(e,t){var r=t.get("animation"),n=e.axis,a=n.type==="category",o=t.get("snap");if(!o&&!a)return!1;if(r==="auto"||r==null){var l=this.animationThreshold;if(a&&n.getBandWidth()>l)return!0;if(o){var s=jt(e).seriesDataCount,u=n.getExtent();return Math.abs(u[0]-u[1])/s>l}return!1}return r===!0},i.prototype.makeElOption=function(e,t,r,n,a){},i.prototype.createPointerEl=function(e,t,r,n){var a=t.pointer;if(a){var o=W(e).pointerEl=new $i[a.type](Ae(t.pointer));e.add(o)}},i.prototype.createLabelEl=function(e,t,r,n){if(t.label){var a=W(e).labelEl=new X(Ae(t.label));e.add(a),Te(a,n)}},i.prototype.updatePointerEl=function(e,t,r){var n=W(e).pointerEl;n&&t.pointer&&(n.setStyle(t.pointer.style),r(n,{shape:t.pointer.shape}))},i.prototype.updateLabelEl=function(e,t,r,n){var a=W(e).labelEl;a&&(a.setStyle(t.label.style),r(a,{x:t.label.x,y:t.label.y}),Te(a,n))},i.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,r=this._api.getZr(),n=this._handle,a=t.getModel("handle"),o=t.get("status");if(!a.get("show")||!o||o==="hide"){n&&r.remove(n),this._handle=null;return}var l;this._handle||(l=!0,n=this._handle=Ue(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Ai(u.event)},onmousedown:It(this._onHandleDragMove,this,0,0),drift:It(this._onHandleDragMove,this),ondragend:It(this._onHandleDragEnd,this)}),r.add(n)),Pe(n,t,!1),n.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=a.get("size");O(s)||(s=[s,s]),n.scaleX=s[0]/2,n.scaleY=s[1]/2,Ze(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,l)}},i.prototype._moveHandleToValue=function(e,t){we(this._axisPointerModel,!t&&this._moveAnimation,this._handle,Lt(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},i.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(r){this._dragging=!0;var n=this.updateHandleTransform(Lt(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=n,r.stopAnimation(),r.attr(Lt(n)),W(r).lastProp=null,this._doDispatchAxisPointer()}},i.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},i.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},i.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,n=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),n&&t.remove(n),this._group=null,this._handle=null,this._payloadInfo=null),Mt(this,"_doDispatchAxisPointer")},i.prototype.doClear=function(){},i.prototype.buildLabel=function(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}},i})();function we(i,e,t,r){ai(W(t).lastProp,r)||(W(t).lastProp=r,e?$e(t,r,i):(t.stopAnimation(),t.attr(r)))}function ai(i,e){if(at(i)&&at(e)){var t=!0;return C(e,function(r,n){t=t&&ai(i[n],r)}),!!t}else return i===e}function Te(i,e){i[e.get(["label","show"])?"show":"hide"]()}function Lt(i){return{x:i.x||0,y:i.y||0,rotation:i.rotation||0}}function Pe(i,e,t){var r=e.get("z"),n=e.get("zlevel");i&&i.traverse(function(a){a.type!=="group"&&(r!=null&&(a.z=r),n!=null&&(a.zlevel=n),a.silent=t)})}function Xr(i){var e=i.get("type"),t=i.getModel(e+"Style"),r;return e==="line"?(r=t.getLineStyle(),r.fill=null):e==="shadow"&&(r=t.getAreaStyle(),r.stroke=null),r}function Yr(i,e,t,r,n){var a=t.get("value"),o=oi(a,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),l=t.getModel("label"),s=Kt(l.get("padding")||0),u=l.getFont(),h=Di(o,u),c=n.position,d=h.width+s[1]+s[3],f=h.height+s[0]+s[2],p=n.align;p==="right"&&(c[0]-=d),p==="center"&&(c[0]-=d/2);var v=n.verticalAlign;v==="bottom"&&(c[1]-=f),v==="middle"&&(c[1]-=f/2),Ur(c,d,f,r);var y=l.get("backgroundColor");(!y||y==="auto")&&(y=e.get(["axisLine","lineStyle","color"])),i.label={x:c[0],y:c[1],style:yt(l,{text:o,font:u,fill:l.getTextColor(),padding:s,backgroundColor:y}),z2:10}}function Ur(i,e,t,r){var n=r.getWidth(),a=r.getHeight();i[0]=Math.min(i[0]+e,n)-e,i[1]=Math.min(i[1]+t,a)-t,i[0]=Math.max(i[0],0),i[1]=Math.max(i[1],0)}function oi(i,e,t,r,n){i=e.scale.parse(i);var a=e.scale.getLabel({value:i},{precision:n.precision}),o=n.formatter;if(o){var l={value:Ke(e,{value:i}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};C(r,function(s){var u=t.getSeriesByIndex(s.seriesIndex),h=s.dataIndexInside,c=u&&u.getDataParams(h);c&&l.seriesData.push(c)}),M(o)?a=o.replace("{value}",a):j(o)&&(a=o(l))}return a}function si(i,e,t){var r=Ti();return wi(r,r,t.rotation),Pi(r,r,t.position),Ki([i.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function Zr(i,e,t,r,n,a){var o=Qe.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=n.get(["label","margin"]),Yr(e,r,n,a,{position:si(r.axis,i,t),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function $r(i,e,t){return t=t||0,{x1:i[t],y1:i[1-t],x2:e[t],y2:e[1-t]}}function Kr(i,e,t){return t=t||0,{x:i[t],y:i[1-t],width:e[t],height:e[1-t]}}var jr=(function(i){D(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,n,a,o){var l=n.axis,s=l.grid,u=a.get("type"),h=De(s,l).getOtherAxis(l).getGlobalExtent(),c=l.toGlobalCoord(l.dataToCoord(r,!0));if(u&&u!=="none"){var d=Xr(a),f=qr[u](l,c,h);f.style=d,t.graphicKey=f.type,t.pointer=f}var p=Ct(s.getRect(),n);Zr(r,t,p,n,a,o)},e.prototype.getHandleTransform=function(t,r,n){var a=Ct(r.axis.grid.getRect(),r,{labelInside:!1});a.labelMargin=n.get(["handle","margin"]);var o=si(r.axis,t,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,n,a){var o=n.axis,l=o.grid,s=o.getGlobalExtent(!0),u=De(l,o).getOtherAxis(o).getGlobalExtent(),h=o.dim==="x"?0:1,c=[t.x,t.y];c[h]+=r[h],c[h]=Math.min(s[1],c[h]),c[h]=Math.max(s[0],c[h]);var d=(u[1]+u[0])/2,f=[d,d];f[h]=c[h];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:f,tooltipOption:p[h]}},e})(Fr);function De(i,e){var t={};return t[e.dim+"AxisIndex"]=e.index,i.getCartesian(t)}var qr={line:function(i,e,t){var r=$r([e,t[0]],[e,t[1]],Ie(i));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(i,e,t){var r=Math.max(1,i.getBandWidth()),n=t[1]-t[0];return{type:"Rect",shape:Kr([e-r/2,t[0]],[r,n],Ie(i))}}};function Ie(i){return i.dim==="x"?0:1}var Qr=(function(i){D(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:w.color.border,width:1,type:"dashed"},shadowStyle:{color:w.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:w.color.neutral00,padding:[5,7,5,7],backgroundColor:w.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:w.color.accent40,throttle:40}},e})(J),H=bt(),Jr=C;function li(i,e,t){if(!k.node){var r=e.getZr();H(r).records||(H(r).records={}),tn(r,e);var n=H(r).records[i]||(H(r).records[i]={});n.handler=t}}function tn(i,e){if(H(i).initialized)return;H(i).initialized=!0,t("click",B(Le,"click")),t("mousemove",B(Le,"mousemove")),t("globalout",rn);function t(r,n){i.on(r,function(a){var o=nn(e);Jr(H(i).records,function(l){l&&n(l,a,o.dispatchAction)}),en(o.pendings,e)})}}function en(i,e){var t=i.showTip.length,r=i.hideTip.length,n;t?n=i.showTip[t-1]:r&&(n=i.hideTip[r-1]),n&&(n.dispatchAction=null,e.dispatchAction(n))}function rn(i,e,t){i.handler("leave",null,t)}function Le(i,e,t,r){e.handler(i,t,r)}function nn(i){var e={showTip:[],hideTip:[]},t=function(r){var n=e[r.type];n?n.push(r):(r.dispatchAction=t,i.dispatchAction(r))};return{dispatchAction:t,pendings:e}}function Et(i,e){if(!k.node){var t=e.getZr(),r=(H(t).records||{})[i];r&&(H(t).records[i]=null)}}var an=(function(i){D(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,n){var a=r.getComponent("tooltip"),o=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";li("axisPointer",n,function(l,s,u){o!=="none"&&(l==="leave"||o.indexOf(l)>=0)&&u({type:"updateAxisPointer",currTrigger:l,x:s&&s.offsetX,y:s&&s.offsetY})})},e.prototype.remove=function(t,r){Et("axisPointer",r)},e.prototype.dispose=function(t,r){Et("axisPointer",r)},e.type="axisPointer",e})(tt);function ui(i,e){var t=[],r=i.seriesIndex,n;if(r==null||!(n=e.getSeriesByIndex(r)))return{point:[]};var a=n.getData(),o=ji(a,i);if(o==null||o<0||O(o))return{point:[]};var l=a.getItemGraphicEl(o),s=n.coordinateSystem;if(n.getTooltipPosition)t=n.getTooltipPosition(o)||[];else if(s&&s.dataToPoint)if(i.isStacked){var u=s.getBaseAxis(),h=s.getOtherAxis(u),c=h.dim,d=u.dim,f=c==="x"||c==="radius"?1:0,p=a.mapDimension(d),v=[];v[f]=a.get(p,o),v[1-f]=a.get(a.getCalculationInfo("stackResultDimension"),o),t=s.dataToPoint(v)||[]}else t=s.dataToPoint(a.getValues(Xt(s.dimensions,function(g){return a.mapDimension(g)}),o))||[];else if(l){var y=l.getBoundingRect().clone();y.applyTransform(l.transform),t=[y.x+y.width/2,y.y+y.height/2]}return{point:t,el:l}}var Be=bt();function on(i,e,t){var r=i.currTrigger,n=[i.x,i.y],a=i,o=i.dispatchAction||E(t.dispatchAction,t),l=e.getComponent("axisPointer").coordSysAxesInfo;if(l){ft(n)&&(n=ui({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var s=ft(n),u=a.axesInfo,h=l.axesInfo,c=r==="leave"||ft(n),d={},f={},p={list:[],map:{}},v={showPointer:B(ln,f),showTooltip:B(un,p)};C(l.coordSysMap,function(g,x){var m=s||g.containPoint(n);C(l.coordSysAxesInfo[x],function(_,S){var b=_.axis,A=fn(u,_);if(!c&&m&&(!u||A)){var T=A&&A.value;T==null&&!s&&(T=b.pointToData(n)),T!=null&&Oe(_,T,v,!1,d)}})});var y={};return C(h,function(g,x){var m=g.linkGroup;m&&!f[x]&&C(m.axesInfo,function(_,S){var b=f[S];if(_!==g&&b){var A=b.value;m.mapper&&(A=g.axis.scale.parse(m.mapper(A,ke(_),ke(g)))),y[g.key]=A}})}),C(y,function(g,x){Oe(h[x],g,v,!0,d)}),hn(f,h,d),cn(p,n,i,o),dn(h,o,t),d}}function Oe(i,e,t,r,n){var a=i.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!i.involveSeries){t.showPointer(i,e);return}var o=sn(e,i),l=o.payloadBatch,s=o.snapToValue;l[0]&&n.seriesIndex==null&&lt(n,l[0]),!r&&i.snap&&a.containData(s)&&s!=null&&(e=s),t.showPointer(i,e,l),t.showTooltip(i,o,s)}}function sn(i,e){var t=e.axis,r=t.dim,n=i,a=[],o=Number.MAX_VALUE,l=-1;return C(e.seriesModels,function(s,u){var h=s.getData().mapDimensionsAll(r),c,d;if(s.getAxisTooltipData){var f=s.getAxisTooltipData(h,i,t);d=f.dataIndices,c=f.nestestValue}else{if(d=s.indicesOfNearest(r,h[0],i,t.type==="category"?.5:null),!d.length)return;c=s.getData().get(h[0],d[0])}if(!(c==null||!isFinite(c))){var p=i-c,v=Math.abs(p);v<=o&&((v<o||p>=0&&l<0)&&(o=v,l=p,n=c,a.length=0),C(d,function(y){a.push({seriesIndex:s.seriesIndex,dataIndexInside:y,dataIndex:s.getData().getRawIndex(y)})}))}}),{payloadBatch:a,snapToValue:n}}function ln(i,e,t,r){i[e.key]={value:t,payloadBatch:r}}function un(i,e,t,r){var n=t.payloadBatch,a=e.axis,o=a.model,l=e.axisPointerModel;if(!(!e.triggerTooltip||!n.length)){var s=e.coordSys.model,u=ht(s),h=i.map[u];h||(h=i.map[u]={coordSysId:s.id,coordSysIndex:s.componentIndex,coordSysType:s.type,coordSysMainType:s.mainType,dataByAxis:[]},i.list.push(h)),h.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:l.get(["label","precision"]),formatter:l.get(["label","formatter"])},seriesDataIndices:n.slice()})}}function hn(i,e,t){var r=t.axesInfo=[];C(e,function(n,a){var o=n.axisPointerModel.option,l=i[a];l?(!n.useHandle&&(o.status="show"),o.value=l.value,o.seriesDataIndices=(l.payloadBatch||[]).slice()):!n.useHandle&&(o.status="hide"),o.status==="show"&&r.push({axisDim:n.axis.dim,axisIndex:n.axis.model.componentIndex,value:o.value})})}function cn(i,e,t,r){if(ft(e)||!i.list.length){r({type:"hideTip"});return}var n=((i.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:n.dataIndexInside,dataIndex:n.dataIndex,seriesIndex:n.seriesIndex,dataByCoordSys:i.list})}function dn(i,e,t){var r=t.getZr(),n="axisPointerLastHighlights",a=Be(r)[n]||{},o=Be(r)[n]={};C(i,function(u,h){var c=u.axisPointerModel.option;c.status==="show"&&u.triggerEmphasis&&C(c.seriesDataIndices,function(d){var f=d.seriesIndex+" | "+d.dataIndex;o[f]=d})});var l=[],s=[];C(a,function(u,h){!o[h]&&s.push(u)}),C(o,function(u,h){!a[h]&&l.push(u)}),s.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:s}),l.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:l})}function fn(i,e){for(var t=0;t<(i||[]).length;t++){var r=i[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function ke(i){var e=i.axis.model,t={},r=t.axisDim=i.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function ft(i){return!i||i[0]==null||isNaN(i[0])||i[1]==null||isNaN(i[1])}function hi(i){ii.registerAxisPointerClass("CartesianAxisPointer",jr),i.registerComponentModel(Qr),i.registerComponentView(an),i.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!O(t)&&(e.axisPointer.link=[t])}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=Ir(e,t)}),i.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},on)}function Zn(i){Q(Wr),Q(hi)}function pn(i,e){var t=Kt(e.get("padding")),r=e.getItemStyle(["color","opacity"]);r.fill=e.get("backgroundColor");var n=new Y({shape:{x:i.x-t[3],y:i.y-t[0],width:i.width+t[1]+t[3],height:i.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1});return n}var vn=(function(i){D(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:w.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:w.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:w.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:w.color.tertiary,fontSize:14}},e})(J);function ci(i){var e=i.get("confine");return e!=null?!!e:i.get("renderMode")==="richText"}function di(i){if(k.domSupported){for(var e=document.documentElement.style,t=0,r=i.length;t<r;t++)if(i[t]in e)return i[t]}}var fi=di(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),gn=di(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function pi(i,e){if(!i)return e;e=je(e,!0);var t=i.indexOf(e);return i=t===-1?e:"-"+i.slice(0,t)+"-"+e,i.toLowerCase()}function yn(i,e){var t=i.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(i);return t?t[e]:null}var mn=pi(gn,"transition"),qt=pi(fi,"transform"),xn="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(k.transform3dSupported?"will-change:transform;":"");function Cn(i){return i=i==="left"?"right":i==="right"?"left":i==="top"?"bottom":"top",i}function _n(i,e,t){if(!M(t)||t==="inside")return"";var r=i.get("backgroundColor"),n=i.get("borderWidth");e=mt(e);var a=Cn(t),o=Math.max(Math.round(n)*1.5,6),l="",s=qt+":",u;F(["left","right"],a)>-1?(l+="top:50%",s+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(l+="left:50%",s+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var h=u*Math.PI/180,c=o+n,d=c*Math.abs(Math.cos(h))+c*Math.abs(Math.sin(h)),f=Math.round(((d-Math.SQRT2*n)/2+Math.SQRT2*n-(d-c)/2)*100)/100;l+=";"+a+":-"+f+"px";var p=e+" solid "+n+"px;",v=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",l+";"+s+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"];return'<div style="'+v.join("")+'"></div>'}function bn(i,e,t){var r="cubic-bezier(0.23,1,0.32,1)",n="",a="";return t&&(n=" "+i/2+"s "+r,a="opacity"+n+",visibility"+n),e||(n=" "+i+"s "+r,a+=(a.length?",":"")+(k.transformSupported?""+qt+n:",left"+n+",top"+n)),mn+":"+a}function Me(i,e,t){var r=i.toFixed(0)+"px",n=e.toFixed(0)+"px";if(!k.transformSupported)return t?"top:"+n+";left:"+r+";":[["top",n],["left",r]];var a=k.transform3dSupported,o="translate"+(a?"3d":"")+"("+r+","+n+(a?",0":"")+")";return t?"top:0;left:0;"+qt+":"+o+";":[["top",0],["left",0],[fi,o]]}function Sn(i){var e=[],t=i.get("fontSize"),r=i.getTextColor();r&&e.push("color:"+r),e.push("font:"+i.getFont());var n=ot(i.get("lineHeight"),Math.round(t*3/2));t&&e.push("line-height:"+n+"px");var a=i.get("textShadowColor"),o=i.get("textShadowBlur")||0,l=i.get("textShadowOffsetX")||0,s=i.get("textShadowOffsetY")||0;return a&&o&&e.push("text-shadow:"+l+"px "+s+"px "+o+"px "+a),C(["decoration","align"],function(u){var h=i.get(u);h&&e.push("text-"+u+":"+h)}),e.join(";")}function An(i,e,t,r){var n=[],a=i.get("transitionDuration"),o=i.get("backgroundColor"),l=i.get("shadowBlur"),s=i.get("shadowColor"),u=i.get("shadowOffsetX"),h=i.get("shadowOffsetY"),c=i.getModel("textStyle"),d=qe(i,"html"),f=u+"px "+h+"px "+l+"px "+s;return n.push("box-shadow:"+f),e&&a>0&&n.push(bn(a,t,r)),o&&n.push("background-color:"+o),C(["width","color","radius"],function(p){var v="border-"+p,y=je(v),g=i.get(y);g!=null&&n.push(v+":"+g+(p==="color"?"":"px"))}),n.push(Sn(c)),d!=null&&n.push("padding:"+Kt(d).join("px ")+"px"),n.join(";")+";"}function Re(i,e,t,r,n){var a=e&&e.painter;if(t){var o=a&&a.getViewportRoot();o&&Li(i,o,t,r,n)}else{i[0]=r,i[1]=n;var l=a&&a.getViewportRootOffset();l&&(i[0]+=l.offsetLeft,i[1]+=l.offsetTop)}i[2]=i[0]/e.getWidth(),i[3]=i[1]/e.getHeight()}var wn=(function(){function i(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,k.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var n=this._zr=e.getZr(),a=t.appendTo,o=a&&(M(a)?document.querySelector(a):te(a)?a:j(a)&&a(e.getDom()));Re(this._styleCoord,n,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(r),this._api=e,this._container=o;var l=this;r.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},r.onmousemove=function(s){if(s=s||window.event,!l._enterable){var u=n.handler,h=n.painter.getViewportRoot();Ii(h,s,!0),u.dispatch("mousemove",s)}},r.onmouseleave=function(){l._inContent=!1,l._enterable&&l._show&&l.hideLater(l._hideDelay)}}return i.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),r=yn(t,"position"),n=t.style;n.position!=="absolute"&&r!=="absolute"&&(n.position="relative")}var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this._enableDisplayTransition=e.get("displayTransition")&&e.get("transitionDuration")>0,this.el.className=e.get("className")||""},i.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,n=r.style,a=this._styleCoord;r.innerHTML?n.cssText=xn+An(e,!this._firstShow,this._longHide,this._enableDisplayTransition)+Me(a[0],a[1],!0)+("border-color:"+mt(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):n.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},i.prototype.setContent=function(e,t,r,n,a){var o=this.el;if(e==null){o.innerHTML="";return}var l="";if(M(a)&&r.get("trigger")==="item"&&!ci(r)&&(l=_n(r,n,a)),M(e))o.innerHTML=e+l;else if(e){o.innerHTML="",O(e)||(e=[e]);for(var s=0;s<e.length;s++)te(e[s])&&e[s].parentNode!==o&&o.appendChild(e[s]);if(l&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=l,o.appendChild(u)}}},i.prototype.setEnterable=function(e){this._enterable=e},i.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},i.prototype.moveTo=function(e,t){if(this.el){var r=this._styleCoord;if(Re(r,this._zr,this._container,e,t),r[0]!=null&&r[1]!=null){var n=this.el.style,a=Me(r[0],r[1]);C(a,function(o){n[o[0]]=o[1]})}}},i.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},i.prototype.hide=function(){var e=this,t=this.el.style;this._enableDisplayTransition?(t.visibility="hidden",t.opacity="0"):t.display="none",k.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},i.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(E(this.hide,this),e)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this._zr;Bi(e&&e.painter&&e.painter.getViewportRoot(),this._container);var t=this.el;if(t){t.onmouseenter=t.onmousemove=t.onmouseleave=null;var r=t.parentNode;r&&r.removeChild(t)}this.el=this._container=null},i})(),Tn=(function(){function i(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),ze(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return i.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},i.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},i.prototype.setContent=function(e,t,r,n,a){var o=this;at(e)&&qi(""),this.el&&this._zr.remove(this.el);var l=r.getModel("textStyle");this.el=new X({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:n,textShadowColor:l.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:qe(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),C(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=r.get(u)}),C(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=l.get(u)||0}),this._zr.add(this.el);var s=this;this.el.on("mouseover",function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0}),this.el.on("mouseout",function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1})},i.prototype.setEnterable=function(e){this._enterable=e},i.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=Ge(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},i.prototype.moveTo=function(e,t){var r=this.el;if(r){var n=this._styleCoord;ze(n,this._zr,e,t),e=n[0],t=n[1];var a=r.style,o=V(a.borderWidth||0),l=Ge(a);r.x=e+o+l.left,r.y=t+o+l.top,r.markRedraw()}},i.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},i.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},i.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(E(this.hide,this),e)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){this._zr.remove(this.el)},i})();function V(i){return Math.max(0,i)}function Ge(i){var e=V(i.shadowBlur||0),t=V(i.shadowOffsetX||0),r=V(i.shadowOffsetY||0);return{left:V(e-t),right:V(e+t),top:V(e-r),bottom:V(e+r)}}function ze(i,e,t,r){i[0]=t,i[1]=r,i[2]=i[0]/e.getWidth(),i[3]=i[1]/e.getHeight()}var Pn=new Y({shape:{x:-1,y:-1,width:2,height:2}}),Dn=(function(i){D(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){if(!(k.node||!r.getDom())){var n=t.getComponent("tooltip"),a=this._renderMode=Qi(n.get("renderMode"));this._tooltipContent=a==="richText"?new Tn(r):new wn(r,{appendTo:n.get("appendToBody",!0)?"body":n.get("appendTo",!0)})}},e.prototype.render=function(t,r,n){if(!(k.node||!n.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=n;var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?Ze(this,"_updatePosition",50,"fixRate"):Mt(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,r=t.get("triggerOn");li("itemTooltip",this._api,E(function(n,a,o){r!=="none"&&(r.indexOf(n)>=0?this._tryShow(a,o):n==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,n=this._api,a=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!n.isDisposed()&&o.manuallyShowTip(t,r,n,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,n,a){if(!(a.from===this.uid||k.node||!n.getDom())){var o=He(a,n);this._ticket="";var l=a.dataByCoordSys,s=On(a,r,n);if(s){var u=s.el.getBoundingRect().clone();u.applyTransform(s.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:s.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var h=Pn;h.x=a.x,h.y=a.y,h.update(),G(h).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:h},o)}else if(l)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:l,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(t,r,n,a))return;var c=ui(a,r),d=c.point[0],f=c.point[1];d!=null&&f!=null&&this._tryShow({offsetX:d,offsetY:f,target:c.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(n.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:n.getZr().findHover(a.x,a.y).target},o))}},e.prototype.manuallyHideTip=function(t,r,n,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(He(a,n))},e.prototype._manuallyAxisShowTip=function(t,r,n,a){var o=a.seriesIndex,l=a.dataIndex,s=r.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||l==null||s==null)){var u=r.getSeriesByIndex(o);if(u){var h=u.getData(),c=et([h.getItemModel(l),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(c.get("trigger")==="axis")return n.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:l,position:a.position}),!0}}},e.prototype._tryShow=function(t,r){var n=t.target,a=this._tooltipModel;if(a){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(n){var l=G(n);if(l.ssrType==="legend")return;this._lastDataByCoordSys=null;var s,u;Ji(n,function(h){if(h.tooltipDisabled)return s=u=null,!0;s||u||(G(h).dataIndex!=null?s=h:G(h).tooltipConfig!=null&&(u=h))},!0),s?this._showSeriesItemTooltip(t,s,r):u?this._showComponentItemTooltip(t,u,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var n=t.get("showDelay");r=E(r,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(r,n):r()},e.prototype._showAxisTooltip=function(t,r){var n=this._ecModel,a=this._tooltipModel,o=[r.offsetX,r.offsetY],l=et([r.tooltipOption],a),s=this._renderMode,u=[],h=se("section",{blocks:[],noHeader:!0}),c=[],d=new Tt;C(t,function(x){C(x.dataByAxis,function(m){var _=n.getComponent(m.axisDim+"Axis",m.axisIndex),S=m.value;if(!(!_||S==null)){var b=oi(S,_.axis,n,m.seriesDataIndices,m.valueLabelOpt),A=se("section",{header:b,noHeader:!Oi(b),sortBlocks:!0,blocks:[]});h.blocks.push(A),C(m.seriesDataIndices,function(T){var I=n.getSeriesByIndex(T.seriesIndex),L=T.dataIndexInside,P=I.getDataParams(L);if(!(P.dataIndex<0)){P.axisDim=m.axisDim,P.axisIndex=m.axisIndex,P.axisType=m.axisType,P.axisId=m.axisId,P.axisValue=Ke(_.axis,{value:S}),P.axisValueLabel=b,P.marker=d.makeTooltipMarker("item",mt(P.color),s);var z=le(I.formatTooltip(L,!0,null)),R=z.frag;if(R){var N=et([I],a).get("valueFormatter");A.blocks.push(N?lt({valueFormatter:N},R):R)}z.text&&c.push(z.text),u.push(P)}})}})}),h.blocks.reverse(),c.reverse();var f=r.position,p=l.get("order"),v=ue(h,d,s,p,n.get("useUTC"),l.get("textStyle"));v&&c.unshift(v);var y=s==="richText"?`

`:"<br/>",g=c.join(y);this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(l,f,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(l,g,u,Math.random()+"",o[0],o[1],f,null,d)})},e.prototype._showSeriesItemTooltip=function(t,r,n){var a=this._ecModel,o=G(r),l=o.seriesIndex,s=a.getSeriesByIndex(l),u=o.dataModel||s,h=o.dataIndex,c=o.dataType,d=u.getData(c),f=this._renderMode,p=t.positionDefault,v=et([d.getItemModel(h),u,s&&(s.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),y=v.get("trigger");if(!(y!=null&&y!=="item")){var g=u.getDataParams(h,c),x=new Tt;g.marker=x.makeTooltipMarker("item",mt(g.color),f);var m=le(u.formatTooltip(h,!1,c)),_=v.get("order"),S=v.get("valueFormatter"),b=m.frag,A=b?ue(S?lt({valueFormatter:S},b):b,x,f,_,a.get("useUTC"),v.get("textStyle")):m.text,T="item_"+u.name+"_"+h;this._showOrMove(v,function(){this._showTooltipContent(v,A,g,T,t.offsetX,t.offsetY,t.position,t.target,x)}),n({type:"showTip",dataIndexInside:h,dataIndex:d.getRawIndex(h),seriesIndex:l,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,n){var a=this._renderMode==="html",o=G(r),l=o.tooltipConfig,s=l.option||{},u=s.encodeHTMLContent;if(M(s)){var h=s;s={content:h,formatter:h},u=!0}u&&a&&s.content&&(s=st(s),s.content=ki(s.content));var c=[s],d=this._ecModel.getComponent(o.componentMainType,o.componentIndex);d&&c.push(d),c.push({formatter:s.content});var f=t.positionDefault,p=et(c,this._tooltipModel,f?{position:f}:null),v=p.get("content"),y=Math.random()+"",g=new Tt;this._showOrMove(p,function(){var x=st(p.get("formatterParams")||{});this._showTooltipContent(p,v,x,y,t.offsetX,t.offsetY,t.position,r,g)}),n({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,n,a,o,l,s,u,h){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var c=this._tooltipContent;c.setEnterable(t.get("enterable"));var d=t.get("formatter");s=s||t.get("position");var f=r,p=this._getNearestPoint([o,l],n,t.get("trigger"),t.get("borderColor"),t.get("defaultBorderColor",!0)),v=p.color;if(d)if(M(d)){var y=t.ecModel.get("useUTC"),g=O(n)?n[0]:n,x=g&&g.axisType&&g.axisType.indexOf("time")>=0;f=d,x&&(f=tr(g.axisValue,f,y)),f=er(f,n,!0)}else if(j(d)){var m=E(function(_,S){_===this._ticket&&(c.setContent(S,h,t,v,s),this._updatePosition(t,s,o,l,c,n,u))},this);this._ticket=a,f=d(n,a,m)}else f=d;c.setContent(f,h,t,v,s),c.show(t,v),this._updatePosition(t,s,o,l,c,n,u)}},e.prototype._getNearestPoint=function(t,r,n,a,o){if(n==="axis"||O(r))return{color:a||o};if(!O(r))return{color:a||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,n,a,o,l,s){var u=this._api.getWidth(),h=this._api.getHeight();r=r||t.get("position");var c=o.getSize(),d=t.get("align"),f=t.get("verticalAlign"),p=s&&s.getBoundingRect().clone();if(s&&p.applyTransform(s.transform),j(r)&&(r=r([n,a],l,o.el,p,{viewSize:[u,h],contentSize:c.slice()})),O(r))n=he(r[0],u),a=he(r[1],h);else if(at(r)){var v=r;v.width=c[0],v.height=c[1];var y=q(v,{width:u,height:h});n=y.x,a=y.y,d=null,f=null}else if(M(r)&&s){var g=Bn(r,p,c,t.get("borderWidth"));n=g[0],a=g[1]}else{var g=In(n,a,o,u,h,d?null:20,f?null:20);n=g[0],a=g[1]}if(d&&(n-=Ee(d)?c[0]/2:d==="right"?c[0]:0),f&&(a-=Ee(f)?c[1]/2:f==="bottom"?c[1]:0),ci(t)){var g=Ln(n,a,o,u,h);n=g[0],a=g[1]}o.moveTo(n,a)},e.prototype._updateContentNotChangedOnAxis=function(t,r){var n=this._lastDataByCoordSys,a=this._cbParamsList,o=!!n&&n.length===t.length;return o&&C(n,function(l,s){var u=l.dataByAxis||[],h=t[s]||{},c=h.dataByAxis||[];o=o&&u.length===c.length,o&&C(u,function(d,f){var p=c[f]||{},v=d.seriesDataIndices||[],y=p.seriesDataIndices||[];o=o&&d.value===p.value&&d.axisType===p.axisType&&d.axisId===p.axisId&&v.length===y.length,o&&C(v,function(g,x){var m=y[x];o=o&&g.seriesIndex===m.seriesIndex&&g.dataIndex===m.dataIndex}),a&&C(d.seriesDataIndices,function(g){var x=g.seriesIndex,m=r[x],_=a[x];m&&_&&_.data!==m.data&&(o=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!o},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){k.node||!r.getDom()||(Mt(this,"_updatePosition"),this._tooltipContent.dispose(),Et("itemTooltip",r))},e.type="tooltip",e})(tt);function et(i,e,t){var r=e.ecModel,n;t?(n=new K(t,r,r),n=new K(e.option,n,r)):n=e;for(var a=i.length-1;a>=0;a--){var o=i[a];o&&(o instanceof K&&(o=o.get("tooltip",!0)),M(o)&&(o={formatter:o}),o&&(n=new K(o,n,r)))}return n}function He(i,e){return i.dispatchAction||E(e.dispatchAction,e)}function In(i,e,t,r,n,a,o){var l=t.getSize(),s=l[0],u=l[1];return a!=null&&(i+s+a+2>r?i-=s+a:i+=a),o!=null&&(e+u+o>n?e-=u+o:e+=o),[i,e]}function Ln(i,e,t,r,n){var a=t.getSize(),o=a[0],l=a[1];return i=Math.min(i+o,r)-o,e=Math.min(e+l,n)-l,i=Math.max(i,0),e=Math.max(e,0),[i,e]}function Bn(i,e,t,r){var n=t[0],a=t[1],o=Math.ceil(Math.SQRT2*r)+8,l=0,s=0,u=e.width,h=e.height;switch(i){case"inside":l=e.x+u/2-n/2,s=e.y+h/2-a/2;break;case"top":l=e.x+u/2-n/2,s=e.y-a-o;break;case"bottom":l=e.x+u/2-n/2,s=e.y+h+o;break;case"left":l=e.x-n-o,s=e.y+h/2-a/2;break;case"right":l=e.x+u+o,s=e.y+h/2-a/2}return[l,s]}function Ee(i){return i==="center"||i==="middle"}function On(i,e,t){var r=ir(i).queryOptionMap,n=r.keys()[0];if(!(!n||n==="series")){var a=rr(e,n,r.get(n),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var l=t.getViewOfComponentModel(o),s;if(l.group.traverse(function(u){var h=G(u).tooltipConfig;if(h&&h.name===i.name)return s=u,!0}),s)return{componentMainType:n,componentIndex:o.componentIndex,el:s}}}}function $n(i){Q(hi),i.registerComponentModel(vn),i.registerComponentView(Dn),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},ee),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},ee)}var kn=(function(i){D(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:w.size.m,backgroundColor:w.color.transparent,borderColor:w.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:w.color.primary},subtextStyle:{fontSize:12,color:w.color.quaternary}},e})(J),Mn=(function(i){D(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,n){if(this.group.removeAll(),!!t.get("show")){var a=this.group,o=t.getModel("textStyle"),l=t.getModel("subtextStyle"),s=t.get("textAlign"),u=ot(t.get("textBaseline"),t.get("textVerticalAlign")),h=new X({style:yt(o,{text:t.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),c=h.getBoundingRect(),d=t.get("subtext"),f=new X({style:yt(l,{text:d,fill:l.getTextColor(),y:c.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=t.get("link"),v=t.get("sublink"),y=t.get("triggerEvent",!0);h.silent=!p&&!y,f.silent=!v&&!y,p&&h.on("click",function(){ce(p,"_"+t.get("target"))}),v&&f.on("click",function(){ce(v,"_"+t.get("subtarget"))}),G(h).eventData=G(f).eventData=y?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(h),d&&a.add(f);var g=a.getBoundingRect(),x=t.getBoxLayoutParams();x.width=g.width,x.height=g.height;var m=Zt(t,n),_=q(x,m.refContainer,t.get("padding"));s||(s=t.get("left")||t.get("right"),s==="middle"&&(s="center"),s==="right"?_.x+=_.width:s==="center"&&(_.x+=_.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?_.y+=_.height:u==="middle"&&(_.y+=_.height/2),u=u||"top"),a.x=_.x,a.y=_.y,a.markRedraw();var S={align:s,verticalAlign:u};h.setStyle(S),f.setStyle(S),g=a.getBoundingRect();var b=_.margin,A=t.getItemStyle(["color","opacity"]);A.fill=t.get("backgroundColor");var T=new Y({shape:{x:g.x-b[3],y:g.y-b[0],width:g.width+b[1]+b[3],height:g.height+b[0]+b[2],r:t.get("borderRadius")},style:A,subPixelOptimize:!0,silent:!0});a.add(T)}},e.type="title",e})(tt);function Kn(i){i.registerComponentModel(kn),i.registerComponentView(Mn)}var Rn=function(i,e){if(e==="all")return{type:"all",title:i.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:i.getLocaleModel().get(["legend","selector","inverse"])}},Vt=(function(i){D(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,r,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){i.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,n=this.ecModel;r===!0&&(r=t.selector=["all","inverse"]),O(r)&&C(r,function(a,o){M(a)&&(a={type:a}),r[o]=rt(a,Rn(n,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var r=!1,n=0;n<t.length;n++){var a=t[n].get("name");if(this.isSelected(a)){this.select(a),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],n=[];t.eachRawSeries(function(s){var u=s.name;n.push(u);var h;if(s.legendVisualProvider){var c=s.legendVisualProvider,d=c.getAllNames();t.isSeriesFiltered(s)||(n=n.concat(d)),d.length?r=r.concat(d):h=!0}else h=!0;h&&nr(s)&&r.push(s.name)}),this._availableNames=n;var a=this.get("data")||r,o=Yt(),l=Xt(a,function(s){return(M(s)||Mi(s))&&(s={name:s}),o.get(s.name)?null:(o.set(s.name,!0),new K(s,this,this.ecModel))},this);this._data=Xe(l,function(s){return!!s})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected,n=this.get("selectedMode");if(n==="single"){var a=this._data;C(a,function(o){r[o.get("name")]=!1})}r[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,r=this.option.selected;C(t,function(n){r[n.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;C(t,function(n){var a=n.get("name",!0);r.hasOwnProperty(a)||(r[a]=!0),r[a]=!r[a]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&F(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:w.size.m,align:"auto",backgroundColor:w.color.transparent,borderColor:w.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:w.color.disabled,inactiveBorderColor:w.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:w.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:w.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:w.color.tertiary,borderWidth:1,borderColor:w.color.border},emphasis:{selectorLabel:{show:!0,color:w.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},e})(J),Z=B,Nt=C,dt=_t,vi=(function(i){D(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new dt),this.group.add(this._selectorGroup=new dt),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,n){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var o=t.get("align"),l=t.get("orient");(!o||o==="auto")&&(o=t.get("left")==="right"&&l==="vertical"?"right":"left");var s=t.get("selector",!0),u=t.get("selectorPosition",!0);s&&(!u||u==="auto")&&(u=l==="horizontal"?"end":"start"),this.renderInner(o,t,r,n,s,l,u);var h=Zt(t,n).refContainer,c=t.getBoxLayoutParams(),d=t.get("padding"),f=q(c,h,d),p=this.layoutInner(t,o,f,a,s,u),v=q(ct({width:p.width,height:p.height},c),h,d);this.group.x=v.x-p.x,this.group.y=v.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=pn(p,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,n,a,o,l,s){var u=this.getContentGroup(),h=Yt(),c=r.get("selectedMode"),d=r.get("triggerEvent"),f=[];n.eachRawSeries(function(p){!p.get("legendHoverLink")&&f.push(p.id)}),Nt(r.getData(),function(p,v){var y=this,g=p.get("name");if(!this.newlineDisabled&&(g===""||g===`
`)){var x=new dt;x.newline=!0,u.add(x);return}var m=n.getSeriesByName(g)[0];if(!h.get(g))if(m){var _=m.getData(),S=_.getVisual("legendLineStyle")||{},b=_.getVisual("legendIcon"),A=_.getVisual("style"),T=this._createItem(m,g,v,p,r,t,S,A,b,c,a);T.on("click",Z(Ve,g,null,a,f)).on("mouseover",Z(Wt,m.name,null,a,f)).on("mouseout",Z(Ft,m.name,null,a,f)),n.ssr&&T.eachChild(function(I){var L=G(I);L.seriesIndex=m.seriesIndex,L.dataIndex=v,L.ssrType="legend"}),d&&T.eachChild(function(I){y.packEventData(I,r,m,v,g)}),h.set(g,!0)}else n.eachRawSeries(function(I){var L=this;if(!h.get(g)&&I.legendVisualProvider){var P=I.legendVisualProvider;if(!P.containName(g))return;var z=P.indexOfName(g),R=P.getItemVisual(z,"style"),N=P.getItemVisual(z,"legendIcon"),U=Ri(R.fill);U&&U[3]===0&&(U[3]=.2,R=lt(lt({},R),{fill:Gi(U,"rgba")}));var St=this._createItem(I,g,v,p,r,t,{},R,N,c,a);St.on("click",Z(Ve,null,g,a,f)).on("mouseover",Z(Wt,null,g,a,f)).on("mouseout",Z(Ft,null,g,a,f)),n.ssr&&St.eachChild(function(At){var wt=G(At);wt.seriesIndex=I.seriesIndex,wt.dataIndex=v,wt.ssrType="legend"}),d&&St.eachChild(function(At){L.packEventData(At,r,I,v,g)}),h.set(g,!0)}},this)},this),o&&this._createSelector(o,r,a,l,s)},e.prototype.packEventData=function(t,r,n,a,o){var l={componentType:"legend",componentIndex:r.componentIndex,dataIndex:a,value:o,seriesIndex:n.seriesIndex};G(t).eventData=l},e.prototype._createSelector=function(t,r,n,a,o){var l=this.getSelectorGroup();Nt(t,function(u){var h=u.type,c=new X({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:h==="all"?"legendAllSelect":"legendInverseSelect",legendId:r.id})}});l.add(c);var d=r.getModel("selectorLabel"),f=r.getModel(["emphasis","selectorLabel"]);ar(c,{normal:d,emphasis:f},{defaultText:u.title}),de(c)})},e.prototype._createItem=function(t,r,n,a,o,l,s,u,h,c,d){var f=t.visualDrawType,p=o.get("itemWidth"),v=o.get("itemHeight"),y=o.isSelected(r),g=a.get("symbolRotate"),x=a.get("symbolKeepAspect"),m=a.get("icon");h=m||h||"roundRect";var _=Gn(h,a,s,u,f,y,d),S=new dt,b=a.getModel("textStyle");if(j(t.getLegendIcon)&&(!m||m==="inherit"))S.add(t.getLegendIcon({itemWidth:p,itemHeight:v,icon:h,iconRotate:g,itemStyle:_.itemStyle,lineStyle:_.lineStyle,symbolKeepAspect:x}));else{var A=m==="inherit"&&t.getData().getVisual("symbol")?g==="inherit"?t.getData().getVisual("symbolRotate"):g:0;S.add(zn({itemWidth:p,itemHeight:v,icon:h,iconRotate:A,itemStyle:_.itemStyle,symbolKeepAspect:x}))}var T=l==="left"?p+5:-5,I=l,L=o.get("formatter"),P=r;M(L)&&L?P=L.replace("{name}",r??""):j(L)&&(P=L(r));var z=y?b.getTextColor():a.get("inactiveColor");S.add(new X({style:yt(b,{text:P,x:T,y:v/2,fill:z,align:I,verticalAlign:"middle"},{inheritColor:z})}));var R=new Y({shape:S.getBoundingRect(),style:{fill:"transparent"}}),N=a.getModel("tooltip");return N.get("show")&&or({el:R,componentModel:o,itemName:r,itemTooltipOption:N.option}),S.add(R),S.eachChild(function(U){U.silent=!0}),R.silent=!c,this.getContentGroup().add(S),de(S),S.__legendDataIndex=n,S},e.prototype.layoutInner=function(t,r,n,a,o,l){var s=this.getContentGroup(),u=this.getSelectorGroup();nt(t.get("orient"),s,t.get("itemGap"),n.width,n.height);var h=s.getBoundingRect(),c=[-h.x,-h.y];if(u.markRedraw(),s.markRedraw(),o){nt("horizontal",u,t.get("selectorItemGap",!0));var d=u.getBoundingRect(),f=[-d.x,-d.y],p=t.get("selectorButtonGap",!0),v=t.getOrient().index,y=v===0?"width":"height",g=v===0?"height":"width",x=v===0?"y":"x";l==="end"?f[v]+=h[y]+p:c[v]+=d[y]+p,f[1-v]+=h[g]/2-d[g]/2,u.x=f[0],u.y=f[1],s.x=c[0],s.y=c[1];var m={x:0,y:0};return m[y]=h[y]+p+d[y],m[g]=Math.max(h[g],d[g]),m[x]=Math.min(0,d[x]+f[1-v]),m}else return s.x=c[0],s.y=c[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e})(tt);function Gn(i,e,t,r,n,a,o){function l(y,g){y.lineWidth==="auto"&&(y.lineWidth=g.lineWidth>0?2:0),Nt(y,function(x,m){y[m]==="inherit"&&(y[m]=g[m])})}var s=e.getModel("itemStyle"),u=s.getItemStyle(),h=i.lastIndexOf("empty",0)===0?"fill":"stroke",c=s.getShallow("decal");u.decal=!c||c==="inherit"?r.decal:sr(c,o),u.fill==="inherit"&&(u.fill=r[n]),u.stroke==="inherit"&&(u.stroke=r[h]),u.opacity==="inherit"&&(u.opacity=(n==="fill"?r:t).opacity),l(u,r);var d=e.getModel("lineStyle"),f=d.getLineStyle();if(l(f,t),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),f.stroke==="auto"&&(f.stroke=r.fill),!a){var p=e.get("inactiveBorderWidth"),v=u[h];u.lineWidth=p==="auto"?r.lineWidth>0&&v?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),f.stroke=d.get("inactiveColor"),f.lineWidth=d.get("inactiveWidth")}return{itemStyle:u,lineStyle:f}}function zn(i){var e=i.icon||"roundRect",t=lr(e,0,0,i.itemWidth,i.itemHeight,i.itemStyle.fill,i.symbolKeepAspect);return t.setStyle(i.itemStyle),t.rotation=(i.iconRotate||0)*Math.PI/180,t.setOrigin([i.itemWidth/2,i.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill=w.color.neutral00,t.style.lineWidth=2),t}function Ve(i,e,t,r){Ft(i,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:i??e}),Wt(i,e,t,r)}function gi(i){for(var e=i.getZr().storage.getDisplayList(),t,r=0,n=e.length;r<n&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function Wt(i,e,t,r){gi(t)||t.dispatchAction({type:"highlight",seriesName:i,name:e,excludeSeriesId:r})}function Ft(i,e,t,r){gi(t)||t.dispatchAction({type:"downplay",seriesName:i,name:e,excludeSeriesId:r})}function Hn(i){var e=i.findComponents({mainType:"legend"});e&&e.length&&i.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function it(i,e,t){var r=i==="allSelect"||i==="inverseSelect",n={},a=[];t.eachComponent({mainType:"legend",query:e},function(l){r?l[i]():l[i](e.name),Ne(l,n),a.push(l.componentIndex)});var o={};return t.eachComponent("legend",function(l){C(n,function(s,u){l[s?"select":"unSelect"](u)}),Ne(l,o)}),r?{selected:o,legendIndex:a}:{name:e.name,selected:o}}function Ne(i,e){var t=e||{};return C(i.getData(),function(r){var n=r.get("name");if(!(n===`
`||n==="")){var a=i.isSelected(n);zi(t,n)?t[n]=t[n]&&a:t[n]=a}}),t}function En(i){i.registerAction("legendToggleSelect","legendselectchanged",B(it,"toggleSelected")),i.registerAction("legendAllSelect","legendselectall",B(it,"allSelect")),i.registerAction("legendInverseSelect","legendinverseselect",B(it,"inverseSelect")),i.registerAction("legendSelect","legendselected",B(it,"select")),i.registerAction("legendUnSelect","legendunselected",B(it,"unSelect"))}function yi(i){i.registerComponentModel(Vt),i.registerComponentView(vi),i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,Hn),i.registerSubTypeDefaulter("legend",function(){return"plain"}),En(i)}var Vn=(function(i){D(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,n){var a=Ut(t);i.prototype.init.call(this,t,r,n),We(this,t,a)},e.prototype.mergeOption=function(t,r){i.prototype.mergeOption.call(this,t,r),We(this,this.option,t)},e.type="legend.scroll",e.defaultOption=ur(Vt.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:w.color.accent50,pageIconInactiveColor:w.color.accent10,pageIconSize:15,pageTextStyle:{color:w.color.tertiary},animationDurationUpdate:800}),e})(Vt);function We(i,e,t){var r=i.getOrient(),n=[1,1];n[r.index]=0,pt(e,t,{type:"box",ignoreSize:!!n})}var Fe=_t,Bt=["width","height"],Ot=["x","y"],Nn=(function(i){D(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){i.prototype.init.call(this),this.group.add(this._containerGroup=new Fe),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Fe)},e.prototype.resetInner=function(){i.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,n,a,o,l,s){var u=this;i.prototype.renderInner.call(this,t,r,n,a,o,l,s);var h=this._controllerGroup,c=r.get("pageIconSize",!0),d=O(c)?c:[c,c];p("pagePrev",0);var f=r.getModel("pageTextStyle");h.add(new X({name:"pageText",style:{text:"xx/xx",fill:f.getTextColor(),font:f.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(v,y){var g=v+"DataIndex",x=Ue(r.get("pageIcons",!0)[r.getOrient().name][y],{onclick:E(u._pageGo,u,g,r,a)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});x.name=v,h.add(x)}},e.prototype.layoutInner=function(t,r,n,a,o,l){var s=this.getSelectorGroup(),u=t.getOrient().index,h=Bt[u],c=Ot[u],d=Bt[1-u],f=Ot[1-u];o&&nt("horizontal",s,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),v=s.getBoundingRect(),y=[-v.x,-v.y],g=st(n);o&&(g[h]=n[h]-v[h]-p);var x=this._layoutContentAndController(t,a,g,u,h,d,f,c);if(o){if(l==="end")y[u]+=x[h]+p;else{var m=v[h]+p;y[u]-=m,x[c]-=m}x[h]+=v[h]+p,y[1-u]+=x[f]+x[d]/2-v[d]/2,x[d]=Math.max(x[d],v[d]),x[f]=Math.min(x[f],v[f]+y[1-u]),s.x=y[0],s.y=y[1],s.markRedraw()}return x},e.prototype._layoutContentAndController=function(t,r,n,a,o,l,s,u){var h=this.getContentGroup(),c=this._containerGroup,d=this._controllerGroup;nt(t.get("orient"),h,t.get("itemGap"),a?n.width:null,a?null:n.height),nt("horizontal",d,t.get("pageButtonItemGap",!0));var f=h.getBoundingRect(),p=d.getBoundingRect(),v=this._showController=f[o]>n[o],y=[-f.x,-f.y];r||(y[a]=h[u]);var g=[0,0],x=[-p.x,-p.y],m=ot(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(v){var _=t.get("pageButtonPosition",!0);_==="end"?x[a]+=n[o]-p[o]:g[a]+=p[o]+m}x[1-a]+=f[l]/2-p[l]/2,h.setPosition(y),c.setPosition(g),d.setPosition(x);var S={x:0,y:0};if(S[o]=v?n[o]:f[o],S[l]=Math.max(f[l],p[l]),S[s]=Math.min(0,p[s]+x[1-a]),c.__rectSize=n[o],v){var b={x:0,y:0};b[o]=Math.max(n[o]-p[o]-m,0),b[l]=S[l],c.setClipPath(new Y({shape:b})),c.__rectSize=b[o]}else d.eachChild(function(T){T.attr({invisible:!0,silent:!0})});var A=this._getPageInfo(t);return A.pageIndex!=null&&$e(h,{x:A.contentPosition[0],y:A.contentPosition[1]},v?t:null),this._updatePageInfoView(t,A),S},e.prototype._pageGo=function(t,r,n){var a=this._getPageInfo(r)[t];a!=null&&n.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var n=this._controllerGroup;C(["pagePrev","pageNext"],function(h){var c=h+"DataIndex",d=r[c]!=null,f=n.childOfName(h);f&&(f.setStyle("fill",d?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),f.cursor=d?"pointer":"default")});var a=n.childOfName("pageText"),o=t.get("pageFormatter"),l=r.pageIndex,s=l!=null?l+1:0,u=r.pageCount;a&&o&&a.setStyle("text",M(o)?o.replace("{current}",s==null?"":s+"").replace("{total}",u==null?"":u+""):o({current:s,total:u}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),n=this.getContentGroup(),a=this._containerGroup.__rectSize,o=t.getOrient().index,l=Bt[o],s=Ot[o],u=this._findTargetItemIndex(r),h=n.children(),c=h[u],d=h.length,f=d?1:0,p={contentPosition:[n.x,n.y],pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return p;var v=_(c);p.contentPosition[o]=-v.s;for(var y=u+1,g=v,x=v,m=null;y<=d;++y)m=_(h[y]),(!m&&x.e>g.s+a||m&&!S(m,g.s))&&(x.i>g.i?g=x:g=m,g&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=g.i),++p.pageCount)),x=m;for(var y=u-1,g=v,x=v,m=null;y>=-1;--y)m=_(h[y]),(!m||!S(x,m.s))&&g.i<x.i&&(x=g,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=g.i),++p.pageCount,++p.pageIndex),g=m;return p;function _(b){if(b){var A=b.getBoundingRect(),T=A[s]+b[s];return{s:T,e:T+A[l],i:b.__legendDataIndex}}}function S(b,A){return b.e>=A&&b.s<=A+a}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var r,n=this.getContentGroup(),a;return n.eachChild(function(o,l){var s=o.__legendDataIndex;a==null&&s!=null&&(a=l),s===t&&(r=l)}),r??a},e.type="legend.scroll",e})(vi);function Wn(i){i.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(n){n.setScrollDataIndex(r)})})}function Fn(i){Q(yi),i.registerComponentModel(Vn),i.registerComponentView(Nn),Wn(i)}function jn(i){Q(yi),Q(Fn)}export{hi as AxisPointerComponent,Zn as GridComponent,Wr as GridSimpleComponent,jn as LegendComponent,yi as LegendPlainComponent,Fn as LegendScrollComponent,Jn as RadarComponent,Kn as TitleComponent,$n as TooltipComponent};
