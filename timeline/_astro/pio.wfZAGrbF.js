import{o as S,a as z,b as M,s as u}from"./attributes.DLxOR_zz.js";import{i as O,j as T,a as h,b as k,c as D,g as t,s as l,d as c,f as I,h as $,e as q,r as x,t as A}from"./utils.Dr1TczrG.js";import{i as E}from"./if.Dp9oOE7t.js";import{b as v}from"./this.D2D0wqrb.js";import{p as e}from"./config.BFBf_zv3.js";/* empty css                        */import"./branches.BQRjPrVD.js";var F=I('<div><div class="pio-action"></div> <canvas id="pio"></canvas></div>');function Q(P,g){D(g,!0);const w={mode:e.mode,hidden:e.hiddenOnMobile,content:e.dialog||{},model:e.models||["/pio/models/pio/model.json"]};let _=l(null),m=l(!1),r=l(void 0),d=l(void 0);function p(){if(typeof window<"u"&&typeof window.Paul_Pio<"u")try{if(t(r)&&t(d)&&!t(m)){const o=window.Paul_Pio;c(_,new o(w),!0),c(m,!0),console.log("Pio initialized successfully (Svelte)")}else(!t(r)||!t(d))&&(console.warn("Pio DOM elements not found, retrying..."),setTimeout(p,100))}catch(o){console.error("Pio initialization error:",o)}else setTimeout(p,100)}function b(){if(typeof window>"u")return;const o=(i,n)=>new Promise((s,C)=>{if(document.querySelector(`#${n}`)){s();return}const a=document.createElement("script");a.id=n,a.src=i,a.onload=()=>s(),a.onerror=C,document.head.appendChild(a)});o("/pio/static/l2d.js","pio-l2d-script").then(()=>o("/pio/static/pio.js","pio-main-script")).then(()=>{setTimeout(p,100)}).catch(i=>{console.error("Failed to load Pio scripts:",i)})}S(()=>{e.enable&&b()}),z(()=>{console.log("Pio Svelte component destroyed (keeping instance alive)")});var f=O(),y=T(f);{var j=o=>{var i=F(),n=$(q(i),2);v(n,s=>c(d,s),()=>t(d)),x(i),v(i,s=>c(r,s),()=>t(r)),A(()=>{M(i,1,`pio-container ${e.position||"right"} onload-animation-up`),u(n,"width",e.width||280),u(n,"height",e.height||250)}),h(o,i)};E(y,o=>{e.enable&&o(j)})}h(P,f),k()}export{Q as default};
